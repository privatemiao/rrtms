/*
Copyright DHTMLX LTD. http://www.dhtmlx.com
You allowed to use this component or parts of it under GPL terms
To use it on other terms or get Professional edition of the component please contact us at sales@dhtmlx.com
*/dhtmlx=function(a){for(var c in a)dhtmlx[c]=a[c];return dhtmlx};dhtmlx.extend_api=function(a,c,b){var d=window[a];if(d)window[a]=function(a){if(a&&typeof a=="object"&&!a.tagName){var b=d.apply(this,c._init?c._init(a):arguments),g;for(g in dhtmlx)if(c[g])this[c[g]](dhtmlx[g]);for(g in a)if(c[g])this[c[g]](a[g]);else g.indexOf("on")==0&&this.attachEvent(g,a[g])}else b=d.apply(this,arguments);c._patch&&c._patch(this);return b||this},window[a].prototype=d.prototype,b&&dhtmlXHeir(window[a].prototype,b)};
dhtmlxAjax={get:function(a,c){var b=new dtmlXMLLoaderObject(!0);b.async=arguments.length<3;b.waitCall=c;b.loadXML(a);return b},post:function(a,c,b){var d=new dtmlXMLLoaderObject(!0);d.async=arguments.length<4;d.waitCall=b;d.loadXML(a,!0,c);return d},getSync:function(a){return this.get(a,null,!0)},postSync:function(a,c){return this.post(a,c,null,!0)}};
function dtmlXMLLoaderObject(a,c,b,d){this.xmlDoc="";this.async=typeof b!="undefined"?b:!0;this.onloadAction=a||null;this.mainObject=c||null;this.waitCall=null;this.rSeed=d||!1;return this}dtmlXMLLoaderObject.count=0;
dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var c=!0;return this.check=function(){if(a&&a.onloadAction!=null&&(!a.xmlDoc.readyState||a.xmlDoc.readyState==4)&&c){c=!1;dtmlXMLLoaderObject.count++;if(typeof a.onloadAction=="function")a.onloadAction(a.mainObject,null,null,null,a);if(a.waitCall)a.waitCall.call(this,a),a.waitCall=null}}};
dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,c){if(this.xmlDoc.responseXML){var b=this.xmlDoc.responseXML.getElementsByTagName(a);b.length==0&&a.indexOf(":")!=-1&&(b=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]));var d=b[0]}else d=this.xmlDoc.documentElement;if(d)return this._retry=!1,d;if(!this._retry&&_isIE)return this._retry=!0,c=this.xmlDoc,this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(a,c);dhtmlxError.throwError("LoadXML","Incorrect XML",
[c||this.xmlDoc,this.mainObject]);return document.createElement("DIV")};dtmlXMLLoaderObject.prototype.loadXMLString=function(a,c){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(a);else{var b=new DOMParser;this.xmlDoc=b.parseFromString(a,"text/xml")}if(!c){if(this.onloadAction)this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall)this.waitCall(),this.waitCall=null}};
dtmlXMLLoaderObject.prototype.loadXML=function(a,c,b,d){this.rSeed&&(a+=(a.indexOf("?")!=-1?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf());this.filePath=a;this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(this.async)this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);this.xmlDoc.open(c?"POST":"GET",a,this.async);d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type",
"text/xml")):c&&this.xmlDoc.setRequestHeader("Content-type",this.contenttype||"application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(b);this.async||(new this.waitLoadFunction(this))()};
dtmlXMLLoaderObject.prototype.destructor=function(){return this.setXSLParamValue=this.getXMLTopNode=this.xmlNodeToJSON=this.doSerialization=this.loadXMLString=this.loadXML=this.doXSLTransToString=this.doXSLTransToObject=this.doXPathOpera=this.doXPath=this.xmlDoc=this.mainObject=this.onloadAction=this.filePath=this.rSeed=this.async=this._retry=this._getAllNamedChilds=this._filterXPath=null};
dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var c={},b=0;b<a.attributes.length;b++)c[a.attributes[b].name]=a.attributes[b].value;c._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(b=0;b<a.childNodes.length;b++){var d=a.childNodes[b].tagName;d&&(c[d]||(c[d]=[]),c[d].push(this.xmlNodeToJSON(a.childNodes[b])))}return c};function callerFunction(a,c){return this.handler=function(b){if(!b)b=window.event;a(b,c);return!0}}function getAbsoluteLeft(a){return getOffset(a).left}
function getAbsoluteTop(a){return getOffset(a).top}function getOffsetSum(a){for(var c=0,b=0;a;)c+=parseInt(a.offsetTop),b+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:c,left:b}}
function getOffsetRect(a){var c=a.getBoundingClientRect(),b=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||b.scrollTop,f=window.pageXOffset||d.scrollLeft||b.scrollLeft,g=d.clientTop||b.clientTop||0,h=d.clientLeft||b.clientLeft||0,i=c.top+e-g,k=c.left+f-h;return{top:Math.round(i),left:Math.round(k)}}function getOffset(a){return a.getBoundingClientRect?getOffsetRect(a):getOffsetSum(a)}
function convertStringToBoolean(a){typeof a=="string"&&(a=a.toLowerCase());switch(a){case "1":case "true":case "yes":case "y":case 1:case !0:return!0;default:return!1}}function getUrlSymbol(a){return a.indexOf("?")!=-1?"&":"?"}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0;this.tempDOMM=this.tempDOMU=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}
dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,c){a.onmousedown=this.preCreateDragCopy;a.dragStarter=c;this.addDragLanding(a,c)};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,c){a.dragLanding=c};
dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){if(!((a||window.event)&&(a||event).button==2)){if(window.dhtmlDragAndDrop.waitDrag)return window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1;window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(a);window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=
document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=(new Date).valueOf();a&&a.preventDefault&&a.preventDefault();return!1}};
dhtmlDragAndDropObject.prototype.callDrag=function(a){if(!a)a=window.event;dragger=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode)if(dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=
0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}else return dragger.stopDrag(a,!0);if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var c=dragger.gldragNode;if(dragger.gldragNode.old)c=dragger.gldragNode.old;c.parentNode.removeChild(c);var b=dragger.dragNode.pWindow;c.pWindow&&c.pWindow.dhtmlDragAndDrop.lastLanding&&c.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(c.pWindow.dhtmlDragAndDrop.lastLanding);if(_isIE){var d=document.createElement("Div");d.innerHTML=
dragger.dragNode.outerHTML;dragger.dragNode=d.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);b.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=a.clientX+15+(dragger.fx?dragger.fx*-1:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=a.clientY+3+(dragger.fy?dragger.fy*-1:0)+(document.body.scrollTop||
document.documentElement.scrollTop)+"px";var e=a.srcElement?a.srcElement:a.target;dragger.checkLanding(e,a)}};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var c=parent.frames[window.name].frameElement.offsetParent,b=0,d=0;c;)b+=c.offsetLeft,d+=c.offsetTop,c=c.offsetParent;if(parent.dhtmlDragAndDrop){var e=parent.dhtmlDragAndDrop.calculateFramePosition(1);b+=e.split("_")[0]*1;d+=e.split("_")[1]*1}if(a)return b+"_"+d;else this.fx=b;this.fy=d}return"0_0"};
dhtmlDragAndDropObject.prototype.checkLanding=function(a,c){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,c.clientX,c.clientY,c),this.lastLanding_scr=_isIE?c.srcElement:c.target):a&&a.tagName!="BODY"?this.checkLanding(a.parentNode,c):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,c.clientX,c.clientY,c),this.lastLanding=
0,this._onNotFound&&this._onNotFound())};
dhtmlDragAndDropObject.prototype.stopDrag=function(a,c){dragger=window.dhtmlDragAndDrop;if(!c){dragger.stopFrameRoute();var b=dragger.lastLanding;dragger.lastLanding=null;b&&b.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,b,_isIE?event.srcElement:a.target)}dragger.lastLanding=null;dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=
0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var c=0;c<window.frames.length;c++)try{window.frames[c]!=a&&window.frames[c].dhtmlDragAndDrop&&window.frames[c].dhtmlDragAndDrop.stopFrameRoute(window)}catch(b){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(d){}};
dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,c){if(a)window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&c&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition();
try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(b){}for(var d=0;d<window.frames.length;d++)try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||c?1:0)}catch(e){}};_OperaRv=_KHTMLrv=_FFrv=_isChrome=_isMacOS=_isKHTML=_isOpera=_isIE=_isFF=!1;navigator.userAgent.indexOf("Macintosh")!=-1&&(_isMacOS=!0);navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0);
if(navigator.userAgent.indexOf("Safari")!=-1||navigator.userAgent.indexOf("Konqueror")!=-1)_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0;else if(navigator.userAgent.indexOf("Opera")!=-1)_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3));else if(navigator.appName.indexOf("Microsoft")!=-1){if(_isIE=!0,(navigator.appVersion.indexOf("MSIE 8.0")!=-1||navigator.appVersion.indexOf("MSIE 9.0")!=
-1||navigator.appVersion.indexOf("MSIE 10.0")!=-1)&&document.compatMode!="BackCompat")_isIE=8}else _isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1]);
dtmlXMLLoaderObject.prototype.doXPath=function(a,c,b,d){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(a,c);if(_isIE)return c||(c=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),c||dhtmlxError.throwError("LoadXML","Incorrect XML",[c||this.xmlDoc,this.mainObject]),b!=null&&c.setProperty("SelectionNamespaces","xmlns:xsl='"+b+"'"),d=="single"?c.selectSingleNode(a):c.selectNodes(a)||[];else{var e=c;c||(c=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML);c||dhtmlxError.throwError("LoadXML",
"Incorrect XML",[c||this.xmlDoc,this.mainObject]);c.nodeName.indexOf("document")!=-1?e=c:(e=c,c=c.ownerDocument);var f=XPathResult.ANY_TYPE;if(d=="single")f=XPathResult.FIRST_ORDERED_NODE_TYPE;var g=[],h=c.evaluate(a,e,function(){return b},f,null);if(f==XPathResult.FIRST_ORDERED_NODE_TYPE)return h.singleNodeValue;for(var i=h.iterateNext();i;)g[g.length]=i,i=h.iterateNext();return g}};function p(){if(!this.catches)this.catches=[];return this}p.prototype.catchError=function(a,c){this.catches[a]=c};
p.prototype.throwError=function(a,c,b){if(this.catches[a])return this.catches[a](a,c,b);if(this.catches.ALL)return this.catches.ALL(a,c,b);alert("Error type: "+a+"\nDescription: "+c);return null};window.dhtmlxError=new p;
dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,c){var b=a.replace(/[\/]+/gi,"/").split("/"),d=null,e=1;if(!b.length)return[];if(b[0]==".")d=[c];else if(b[0]=="")d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(b[e].replace(/\[[^\]]*\]/g,"")),e++;else return[];for(;e<b.length;e++)d=this._getAllNamedChilds(d,b[e]);b[e-1].indexOf("[")!=-1&&(d=this._filterXPath(d,b[e-1]));return d};
dtmlXMLLoaderObject.prototype._filterXPath=function(a,c){for(var b=[],c=c.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),d=0;d<a.length;d++)a[d].getAttribute(c)&&(b[b.length]=a[d]);return b};
dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,c){var b=[];_isKHTML&&(c=c.toUpperCase());for(var d=0;d<a.length;d++)for(var e=0;e<a[d].childNodes.length;e++)_isKHTML?a[d].childNodes[e].tagName&&a[d].childNodes[e].tagName.toUpperCase()==c&&(b[b.length]=a[d].childNodes[e]):a[d].childNodes[e].tagName==c&&(b[b.length]=a[d].childNodes[e]);return b};function dhtmlXHeir(a,c){for(var b in c)typeof c[b]=="function"&&(a[b]=c[b]);return a}
function dhtmlxEvent(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent&&a.attachEvent("on"+c,b)}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,c,b){if(!b)b=this.xslDoc;if(b.responseXML)b=b.responseXML;var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",b,"http://www.w3.org/1999/XSL/Transform","single");if(d!=null)d.firstChild.nodeValue=c};
dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,c){if(!a)a=this.xslDoc;if(a.responseXML)a=a.responseXML;if(!c)c=this.xmlDoc;if(c.responseXML)c=c.responseXML;if(_isIE){d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{c.transformNodeToObject(a,d)}catch(b){d=c.transformNode(a)}}else{if(!this.XSLProcessor)this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a);var d=this.XSLProcessor.transformToDocument(c)}return d};
dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,c){var b=this.doXSLTransToObject(a,c);return typeof b=="string"?b:this.doSerialization(b)};dtmlXMLLoaderObject.prototype.doSerialization=function(a){if(!a)a=this.xmlDoc;if(a.responseXML)a=a.responseXML;if(_isIE)return a.xml;else{var c=new XMLSerializer;return c.serializeToString(a)}};
dhtmlxEventable=function(a){a.attachEvent=function(a,b,d){a="ev_"+a.toLowerCase();this[a]||(this[a]=new this.eventCatcher(d||this));return a+":"+this[a].addEvent(b)};a.callEvent=function(a,b){a="ev_"+a.toLowerCase();return this[a]?this[a].apply(this,b):!0};a.checkEvent=function(a){return!!this["ev_"+a.toLowerCase()]};a.eventCatcher=function(a){var b=[],d=function(){for(var d=!0,f=0;f<b.length;f++)if(b[f]!=null)var g=b[f].apply(a,arguments),d=d&&g;return d};d.addEvent=function(a){typeof a!="function"&&
(a=eval(a));return a?b.push(a)-1:!1};d.removeEvent=function(a){b[a]=null};return d};a.detachEvent=function(a){if(a!=!1){var b=a.split(":");this[b[0]].removeEvent(b[1])}};a.detachAllEvents=function(){for(var a in this)a.indexOf("ev_")==0&&(this[a]=null)};a=null};if(!window.dhtmlx)window.dhtmlx={};
(function(){function a(a,c){var d=a.callback;b(!1);a.box.parentNode.removeChild(a.box);n=a.box=null;d&&d(c)}function c(b){if(n){var b=b||event,c=b.which||event.keyCode;dhtmlx.message.keyboard&&((c==13||c==32)&&a(n,!0),c==27&&a(n,!1));b.preventDefault&&b.preventDefault();return!(b.cancelBubble=!0)}}function b(a){if(!b.cover)b.cover=document.createElement("DIV"),b.cover.onkeydown=c,b.cover.className="dhx_modal_cover",document.body.appendChild(b.cover);var d=document.body.scrollHeight;b.cover.style.display=
a?"inline-block":"none"}function d(a,b){return"<div class='dhtmlx_popup_button' result='"+b+"' ><div>"+a+"</div></div>"}function e(a){if(!j.area)j.area=document.createElement("DIV"),j.area.className="dhtmlx_message_area",j.area.style[j.position]="5px",document.body.appendChild(j.area);j.hide(a.id);var b=document.createElement("DIV");b.innerHTML="<div>"+a.text+"</div>";b.className="dhtmlx-info dhtmlx-"+a.type;b.onclick=function(){j.hide(a.id);a=null};j.position=="bottom"&&j.area.firstChild?j.area.insertBefore(b,
j.area.firstChild):j.area.appendChild(b);a.expire>0&&(j.timers[a.id]=window.setTimeout(function(){j.hide(a.id)},a.expire));j.pull[a.id]=b;b=null;return a.id}function f(b,c,e){var g=document.createElement("DIV");g.className=" dhtmlx_modal_box dhtmlx-"+b.type;g.setAttribute("dhxbox",1);var f="";if(b.width)g.style.width=b.width;if(b.height)g.style.height=b.height;b.title&&(f+='<div class="dhtmlx_popup_title">'+b.title+"</div>");f+='<div class="dhtmlx_popup_text"><span>'+(b.content?"":b.text)+'</span></div><div  class="dhtmlx_popup_controls">';
c&&(f+=d(b.ok||"OK",!0));e&&(f+=d(b.cancel||"Cancel",!1));if(b.buttons)for(var h=0;h<b.buttons.length;h++)f+=d(b.buttons[h],h);f+="</div>";g.innerHTML=f;if(b.content){var i=b.content;typeof i=="string"&&(i=document.getElementById(i));if(i.style.display=="none")i.style.display="";g.childNodes[b.title?1:0].appendChild(i)}g.onclick=function(c){var c=c||event,d=c.target||c.srcElement;if(!d.className)d=d.parentNode;if(d.className=="dhtmlx_popup_button"){var e=d.getAttribute("result"),e=e=="true"||(e==
"false"?!1:e);a(b,e)}};b.box=g;if(c||e)n=b;return g}function g(a,d,e){var g=a.tagName?a:f(a,d,e);a.hidden||b(!0);document.body.appendChild(g);var h=a.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-g.offsetWidth)/2)),i=a.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-g.offsetHeight)/2));g.style.top=a.position=="top"?"-3px":i+"px";g.style.left=h+"px";g.onkeydown=c;g.focus();a.hidden&&dhtmlx.modalbox.hide(g);return g}function h(a){return g(a,
!0,!1)}function i(a){return g(a,!0,!0)}function k(a){return g(a)}function l(a,b,c){typeof a!="object"&&(typeof b=="function"&&(c=b,b=""),a={text:a,type:b,callback:c});return a}function m(a,b,c,d){typeof a!="object"&&(a={text:a,type:b,expire:c,id:d});a.id=a.id||j.uid();a.expire=a.expire||j.expire;return a}var n=null;document.attachEvent?document.attachEvent("onkeydown",c):document.addEventListener("keydown",c,!0);dhtmlx.alert=function(){var a=l.apply(this,arguments);a.type=a.type||"confirm";return h(a)};
dhtmlx.confirm=function(){var a=l.apply(this,arguments);a.type=a.type||"alert";return i(a)};dhtmlx.modalbox=function(){var a=l.apply(this,arguments);a.type=a.type||"alert";return k(a)};dhtmlx.modalbox.hide=function(a){for(;a&&a.getAttribute&&!a.getAttribute("dhxbox");)a=a.parentNode;a&&(a.parentNode.removeChild(a),b(!1))};var j=dhtmlx.message=function(a,b,c,d){a=m.apply(this,arguments);a.type=a.type||"info";var g=a.type.split("-")[0];switch(g){case "alert":return h(a);case "confirm":return i(a);case "modalbox":return k(a);
default:return e(a)}};j.seed=(new Date).valueOf();j.uid=function(){return j.seed++};j.expire=4E3;j.keyboard=!0;j.position="top";j.pull={};j.timers={};j.hideAll=function(){for(var a in j.pull)j.hide(a)};j.hide=function(a){var b=j.pull[a];b&&b.parentNode&&(window.setTimeout(function(){b.parentNode.removeChild(b);b=null},2E3),b.className+=" hidden",j.timers[a]&&window.clearTimeout(j.timers[a]),delete j.pull[a])}})();
function dhtmlXToolbarObject(a,c){var b=this;for(this.cont=typeof a!="object"?document.getElementById(a):a;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.dir="ltr";this.cont.innerHTML+="<div class='dhxtoolbar_hdrline_ll'></div><div class='dhxtoolbar_hdrline_rr'></div><div class='dhxtoolbar_hdrline_l'></div><div class='dhxtoolbar_hdrline_r'></div>";this.base=document.createElement("DIV");this.base.className="float_left";this.cont.appendChild(this.base);this.align=
"left";this.setAlign=function(a){this.align=a=="right"?"right":"left";this.base.className=a=="right"?"float_right":"float_left";if(this._spacer)this._spacer.className="dhxtoolbar_spacer "+(a=="right"?" float_left":" float_right")};this._isIE6=!1;if(_isIE)this._isIE6=window.XMLHttpRequest==null?!0:!1;if(this._isIPad=navigator.userAgent.search(/iPad/gi)>=0)this.cont.ontouchstart=function(a){a=a||event;if(String(a.target.tagName||"").toLowerCase()=="input")return!0;a.returnValue=!1;a.cancelBubble=!0;
return!1};this.iconSize=18;this.setIconSize=function(a){this.iconSize={18:!0,24:!0,32:!0,48:!0}[a]?a:18;this.setSkin(this.skin,!0);this.callEvent("_onIconSizeChange",[this.iconSize])};this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=0;this._improveTerraceSkin=function(){var a=[],b={buttonInput:!0,separator:!0,text:!0},c=[this.base];this._spacer!=null&&c.push(this._spacer);for(var g=0;g<c.length;g++){a[g]=[];for(var h=0;h<c[g].childNodes.length;h++)if(c[g].childNodes[h].idd!=null&&c[g].childNodes[h].style.display!=
"none"){var i=this.idPrefix+c[g].childNodes[h].idd;this.objPull[i]!=null&&this.objPull[i].obj==c[g].childNodes[h]&&a[g].push({a:i,type:this.objPull[i].type,node:this.objPull[i][this.objPull[i].type=="buttonSelect"?"arw":"obj"]})}c[g]=null}for(g=0;g<a.length;g++)for(h=0;h<a[g].length;h++){var k=a[g][h];if(k.type=="buttonInput")k.node.className=k.node.className.replace(/dhx_toolbar_btn/,"dhx_toolbar_inp");var l=!1,m=!1;if(!b[k.type]){if(h==a[g].length-1||a[g][h+1]!=null&&b[a[g][h+1].type])l=!0;if(h==
0||h-1>=0&&a[g][h-1]!=null&&b[a[g][h-1].type])m=!0}k.node.style.borderRight=l?"1px solid #cecece":"0px solid white";k.node.style.borderTopRightRadius=k.node.style.borderBottomRightRadius=l?"5px":"0px";k.type=="buttonSelect"?(k.node.previousSibling.style.borderTopLeftRadius=k.node.previousSibling.style.borderBottomLeftRadius=m?"5px":"0px",k.node.previousSibling._br=l,k.node.previousSibling._bl=m):k.node.style.borderTopLeftRadius=k.node.style.borderBottomLeftRadius=m?"5px":"0px";k.node._br=l;k.node._bl=
m}for(g=0;g<a.length;g++){for(h=0;h<a[g].length;h++){for(i in a[g][h])a[g][h][i]=null;a[g][h]=null}a[g]=null}a=c=null};this._improveTerraceButtonSelect=function(a,b){var c=this.objPull[a];b==!0?(c.obj.style.borderBottomLeftRadius=c.obj._bl?"5px":"0px",c.arw.style.borderBottomRightRadius=c.obj._br?"5px":"0px"):(c.obj.style.borderBottomLeftRadius="0px",c.arw.style.borderBottomRightRadius="0px");c=null};this.setSkin=function(a,b){if(b===!0)this.cont.className=this.cont.className.replace(/dhx_toolbar_base_\d{1,}_/,
"dhx_toolbar_base_"+this.iconSize+"_");else{this.skin=a;if(this.skin=="dhx_skyblue")this.selectPolygonOffsetTop=1;if(this.skin=="dhx_web")this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=1;if(this.skin=="dhx_terrace")this.selectPolygonOffsetTop=-1,this.selectPolygonOffsetLeft=0;this.cont.className="dhx_toolbar_base_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":"")}for(var c in this.objPull){var g=this.objPull[c];if(g.type=="slider")g.pen._detectLimits(),g.pen._definePos(),g.label.className=
"dhx_toolbar_slider_label_"+this.skin+(this.rtl?" rtl":"");if(g.type=="buttonSelect")g.polygon.className="dhx_toolbar_poly_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":"")}a=="dhx_terrace"&&this._improveTerraceSkin()};this.setSkin(c!=null?c:typeof dhtmlx!="undefined"&&typeof dhtmlx.skin=="string"?dhtmlx.skin:"dhx_skyblue");this.objPull={};this.anyUsed="none";this.imagePath="";this.setIconPath=this.setIconsPath=function(a){this.imagePath=a};this._doOnLoad=function(){};this.loadXML=function(a,b){if(b!=
null)this._doOnLoad=function(){b()};this.callEvent("onXLS",[]);this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXML(a)};this.loadXMLString=function(a,b){if(b!=null)this._doOnLoad=function(){b()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXMLString(a)};this._xmlParser=function(){for(var a=this.getXMLTopNode("toolbar"),c="id,type,hidden,title,text,enabled,img,imgdis,action,openAll,renderSelect,mode,maxOpen,width,value,selected,length,textMin,textMax,toolTip,valueMin,valueMax,valueNow".split(","),
f="id,type,enabled,disabled,action,selected,img,text".split(","),g=0;g<a.childNodes.length;g++)if(a.childNodes[g].tagName=="item"){for(var h={},i=0;i<c.length;i++)h[c[i]]=a.childNodes[g].getAttribute(c[i]);h.items=[];h.userdata=[];for(var k=0;k<a.childNodes[g].childNodes.length;k++){if(a.childNodes[g].childNodes[k].tagName=="item"&&h.type=="buttonSelect"){for(var l={},i=0;i<f.length;i++)l[f[i]]=a.childNodes[g].childNodes[k].getAttribute(f[i]);var m=a.childNodes[g].childNodes[k].getElementsByTagName("itemText");
if(m!=null&&m[0]!=null)l.itemText=m[0].firstChild.nodeValue;for(var n=a.childNodes[g].childNodes[k].getElementsByTagName("userdata"),i=0;i<n.length;i++){if(!l.userdata)l.userdata={};var j={};try{j.name=n[i].getAttribute("name")}catch(o){j.name=""}try{j.value=n[i].firstChild.nodeValue}catch(q){j.value=""}if(j.name!="")l.userdata[j.name]=j.value}h.items[h.items.length]=l}if(a.childNodes[g].childNodes[k].tagName=="userdata"){l={};try{l.name=a.childNodes[g].childNodes[k].getAttribute("name")}catch(r){l.name=
""}try{l.value=a.childNodes[g].childNodes[k].firstChild.nodeValue}catch(s){l.value=""}h.userdata[h.userdata.length]=l}}b._addItemToStorage(h)}b.skin=="dhx_terrace"&&b._improveTerraceSkin();b.callEvent("onXLE",[]);b._doOnLoad();this.destructor()};this._addItemToStorage=function(a,b){var c=a.id||this._genStr(24),g=a.type||"";if(g!=""&&this["_"+g+"Object"]!=null){if((typeof a.openAll=="undefined"||a.openAll==null)&&this.skin=="dhx_terrace")a.openAll=!0;this.objPull[this.idPrefix+c]=new this["_"+g+"Object"](this,
c,a);this.objPull[this.idPrefix+c].type=g;this.setPosition(c,b)}if(a.userdata)for(var h=0;h<a.userdata.length;h++)this.setUserData(c,a.userdata[h].name,a.userdata[h].value)};this._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=0;g<a;g++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b};this.rootTypes="button,buttonSelect,buttonTwoState,separator,label,slider,text,buttonInput".split(",");this.idPrefix=this._genStr(12);dhtmlxEventable(this);
this._getObj=function(a,b){for(var c=null,g=0;g<a.childNodes.length;g++)a.childNodes[g].tagName!=null&&String(a.childNodes[g].tagName).toLowerCase()==String(b).toLowerCase()&&(c=a.childNodes[g]);return c};this._addImgObj=function(a){var b=document.createElement("IMG");a.childNodes.length>0?a.insertBefore(b,a.childNodes[0]):a.appendChild(b);return b};this._setItemImage=function(a,b,c){c==!0?a.imgEn=b:a.imgDis=b;if(!(!a.state&&c==!0||a.state&&c==!1)){var g=this._getObj(a.obj,"img");g==null&&(g=this._addImgObj(a.obj));
g.src=this.imagePath+b}};this._clearItemImage=function(a,b){b==!0?a.imgEn="":a.imgDis="";if(!(!a.state&&b==!0||a.state&&b==!1)){var c=this._getObj(a.obj,"img");c!=null&&c.parentNode.removeChild(c)}};this._setItemText=function(a,b){var c=this._getObj(a.obj,"div");b==null||b.length==0?c!=null&&c.parentNode.removeChild(c):(c==null&&(c=document.createElement("DIV"),a.obj.appendChild(c)),c.innerHTML=b)};this._getItemText=function(a){var b=this._getObj(a.obj,"div");return b!=null?b.innerHTML:""};this._enableItem=
function(a){if(!a.state){a.state=!0;this.objPull[a.id].type=="buttonTwoState"&&this.objPull[a.id].obj.pressed==!0?(a.obj.className="dhx_toolbar_btn pres",a.obj.renderAs="dhx_toolbar_btn over"):(a.obj.className="dhx_toolbar_btn def",a.obj.renderAs=a.obj.className);if(a.arw)a.arw.className=String(a.obj.className).replace("btn","arw");var b=this._getObj(a.obj,"img");a.imgEn!=""?(b==null&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgEn):b!=null&&b.parentNode.removeChild(b)}};this._disableItem=
function(a){if(a.state){a.state=!1;a.obj.className="dhx_toolbar_btn "+(this.objPull[a.id].type=="buttonTwoState"&&a.obj.pressed?"pres_":"")+"dis";a.obj.renderAs="dhx_toolbar_btn def";if(a.arw)a.arw.className=String(a.obj.className).replace("btn","arw");var b=this._getObj(a.obj,"img");a.imgDis!=""?(b==null&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgDis):b!=null&&b.parentNode.removeChild(b);if(a.polygon!=null&&a.polygon.style.display!="none"){a.polygon.style.display="none";if(a.polygon._ie6cover)a.polygon._ie6cover.style.display=
"none";this.skin=="dhx_terrace"&&this._improveTerraceButtonSelect(a.id,!0)}this.anyUsed="none"}};this.clearAll=function(){for(var a in this.objPull)this._removeItem(String(a).replace(this.idPrefix,""))};this._isWebToolbar=!0;this._doOnClick=function(){b&&b.forEachItem&&b.forEachItem(function(a){if(b.objPull[b.idPrefix+a].type=="buttonSelect"){var c=b.objPull[b.idPrefix+a];if(c.arw._skip===!0)c.arw._skip=!1;else if(c.polygon.style.display!="none"){c.obj.renderAs="dhx_toolbar_btn def";c.obj.className=
c.obj.renderAs;c.arw.className=String(c.obj.renderAs).replace("btn","arw");b.anyUsed="none";c.polygon.style.display="none";if(c.polygon._ie6cover)c.polygon._ie6cover.style.display="none";b.skin=="dhx_terrace"&&b._improveTerraceButtonSelect(c.id,!0)}}})};this._isIPad?document.addEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.attachEvent("onmousedown",this._doOnClick):window.addEventListener("mousedown",this._doOnClick,!1);return this}
dhtmlXToolbarObject.prototype.addSpacer=function(a){var c=this.idPrefix+a;if(this._spacer!=null){if(this._spacer.idd==a)return;if(this._spacer==this.objPull[c].obj.parentNode){for(var b=!0;b;){var d=this._spacer.childNodes[0].idd;this.base.appendChild(this._spacer.childNodes[0]);if(d==a||this._spacer.childNodes.length==0)this.objPull[c].arw!=null&&this.base.appendChild(this.objPull[c].arw),b=!1}this._spacer.idd=a;this._fixSpacer();return}if(this.base==this.objPull[c].obj.parentNode){for(var b=!0,
e=this.objPull[c].arw!=null;b;){var f=this.base.childNodes.length-1;e==!0&&this.base.childNodes[f]==this.objPull[c].arw&&(b=!1);this.base.childNodes[f].idd==a&&(b=!1);b&&(this._spacer.childNodes.length>0?this._spacer.insertBefore(this.base.childNodes[f],this._spacer.childNodes[0]):this._spacer.appendChild(this.base.childNodes[f]))}this._spacer.idd=a;this._fixSpacer();return}}else{for(var g=null,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f]==this.objPull[this.idPrefix+a].obj&&(g=f,
this.objPull[this.idPrefix+a].arw!=null&&(g=f+1));if(g!=null){this._spacer=document.createElement("DIV");this._spacer.className="dhxtoolbar_spacer "+(this.align=="right"?" float_left":" float_right");this._spacer.dir="ltr";for(this._spacer.idd=a;this.base.childNodes.length>g+1;)this._spacer.appendChild(this.base.childNodes[g+1]);this.cont.appendChild(this._spacer);this._fixSpacer()}}this.skin=="dhx_terrace"&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype.removeSpacer=function(){if(this._spacer){for(;this._spacer.childNodes.length>0;)this.base.appendChild(this._spacer.childNodes[0]);this._spacer.parentNode.removeChild(this._spacer);this._spacer=null;this.skin=="dhx_terrace"&&this._improveTerraceSkin()}};
dhtmlXToolbarObject.prototype._fixSpacer=function(){if(_isIE&&this._spacer!=null){this._spacer.style.borderLeft="1px solid #a4bed4";var a=this._spacer;window.setTimeout(function(){a.style.borderLeft="0px solid #a4bed4";a=null},1)}};
dhtmlXToolbarObject.prototype.getType=function(a){var c=this.getParentId(a);if(c!=null){var b=null,d=this.objPull[this.idPrefix+c]._listOptions[a];d!=null&&(b=d.sep!=null?"buttonSelectSeparator":"buttonSelectButton");return b}else return this.objPull[this.idPrefix+a]==null?null:this.objPull[this.idPrefix+a].type};dhtmlXToolbarObject.prototype.getTypeExt=function(a){var c=this.getType(a);return c=="buttonSelectButton"||c=="buttonSelectSeparator"?c=c=="buttonSelectButton"?"button":"separator":null};
dhtmlXToolbarObject.prototype.inArray=function(a,c){for(var b=0;b<a.length;b++)if(a[b]==c)return!0;return!1};dhtmlXToolbarObject.prototype.getParentId=function(a){var c=null,b;for(b in this.objPull)if(this.objPull[b]._listOptions)for(var d in this.objPull[b]._listOptions)d==a&&(c=String(b).replace(this.idPrefix,""));return c};dhtmlXToolbarObject.prototype._addItem=function(a,c){this._addItemToStorage(a,c);this.skin=="dhx_terrace"&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype.addButton=function(a,c,b,d,e){this._addItem({id:a,type:"button",text:b,img:d,imgdis:e},c)};dhtmlXToolbarObject.prototype.addText=function(a,c,b){this._addItem({id:a,type:"text",text:b},c)};
dhtmlXToolbarObject.prototype.addButtonSelect=function(a,c,b,d,e,f,g,h,i,k){for(var l=[],m=0;m<d.length;m++){var n={};if(d[m]instanceof Array)n.id=d[m][0],n.type=d[m][1]=="obj"?"button":"separator",n.text=d[m][2]||null,n.img=d[m][3]||null;else if(d[m]instanceof Object&&d[m]!=null&&typeof d[m].id!="undefined"&&typeof d[m].type!="undefined")n.id=d[m].id,n.type=d[m].type=="obj"?"button":"separator",n.text=d[m].text,n.img=d[m].img;l[l.length]=n}this._addItem({id:a,type:"buttonSelect",text:b,img:e,imgdis:f,
renderSelect:g,openAll:h,items:l,maxOpen:i,mode:k},c)};dhtmlXToolbarObject.prototype.addButtonTwoState=function(a,c,b,d,e){this._addItem({id:a,type:"buttonTwoState",img:d,imgdis:e,text:b},c)};dhtmlXToolbarObject.prototype.addSeparator=function(a,c){this._addItem({id:a,type:"separator"},c)};dhtmlXToolbarObject.prototype.addSlider=function(a,c,b,d,e,f,g,h,i){this._addItem({id:a,type:"slider",length:b,valueMin:d,valueMax:e,valueNow:f,textMin:g,textMax:h,toolTip:i},c)};
dhtmlXToolbarObject.prototype.addInput=function(a,c,b,d){this._addItem({id:a,type:"buttonInput",value:b,width:d},c)};dhtmlXToolbarObject.prototype.forEachItem=function(a){for(var c in this.objPull)this.inArray(this.rootTypes,this.objPull[c].type)&&a(this.objPull[c].id.replace(this.idPrefix,""))};
(function(){for(var a="isVisible,enableItem,disableItem,isEnabled,setItemText,getItemText,setItemToolTip,getItemToolTip,getInput,setItemImage,setItemImageDis,clearItemImage,clearItemImageDis,setItemState,getItemState,setItemToolTipTemplate,getItemToolTipTemplate,setValue,getValue,setMinValue,getMinValue,setMaxValue,getMaxValue,setWidth,getWidth,setMaxOpen".split(","),c=[!1,"","",!1,"","","","","","","","","",!1,"","","",null,"",[null,null],"",[null,null],"",null],b=function(a,b){return function(c,
d,e){c=this.idPrefix+c;return this.objPull[c][a]!=null?this.objPull[c][a].call(this.objPull[c],d,e):b}},d=0;d<a.length;d++){var e=a[d],f=c[d];dhtmlXToolbarObject.prototype[e]=b(e,f)}})();dhtmlXToolbarObject.prototype.showItem=function(a){a=this.idPrefix+a;this.objPull[a]!=null&&this.objPull[a].showItem!=null&&(this.objPull[a].showItem(),this.skin=="dhx_terrace"&&this._improveTerraceSkin())};
dhtmlXToolbarObject.prototype.hideItem=function(a){a=this.idPrefix+a;this.objPull[a]!=null&&this.objPull[a].hideItem!=null&&(this.objPull[a].hideItem(),this.skin=="dhx_terrace"&&this._improveTerraceSkin())};dhtmlXToolbarObject.prototype.getPosition=function(a){return this._getPosition(a)};
dhtmlXToolbarObject.prototype._getPosition=function(a){if(this.objPull[this.idPrefix+a]==null)return null;for(var c=null,b=0,d=0;d<this.base.childNodes.length;d++)this.base.childNodes[d].idd!=null&&(this.base.childNodes[d].idd==a&&(c=b),b++);if(!c&&this._spacer!=null)for(d=0;d<this._spacer.childNodes.length;d++)this._spacer.childNodes[d].idd!=null&&(this._spacer.childNodes[d].idd==a&&(c=b),b++);return c};dhtmlXToolbarObject.prototype.setPosition=function(a,c){this._setPosition(a,c)};
dhtmlXToolbarObject.prototype._setPosition=function(a,c){if(this.objPull[this.idPrefix+a]!=null){if(isNaN(c))c=this.base.childNodes.length;c<0&&(c=0);var b=null;if(this._spacer)b=this._spacer.idd,this.removeSpacer();var d=this.objPull[this.idPrefix+a];this.base.removeChild(d.obj);d.arw&&this.base.removeChild(d.arw);var e=this._getIdByPosition(c,!0);e[0]==null?(this.base.appendChild(d.obj),d.arw&&this.base.appendChild(d.arw)):(this.base.insertBefore(d.obj,this.base.childNodes[e[1]]),d.arw&&this.base.insertBefore(d.arw,
this.base.childNodes[e[1]+1]));b!=null&&this.addSpacer(b)}};dhtmlXToolbarObject.prototype._getIdByPosition=function(a,c){for(var b=null,d=0,e=0,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f].idd!=null&&b==null&&d++==a&&(b=this.base.childNodes[f].idd),b==null&&e++;e=b==null?null:e;return c==!0?[b,e]:b};dhtmlXToolbarObject.prototype.removeItem=function(a){this._removeItem(a);this.skin=="dhx_terrace"&&this._improveTerraceSkin()};
dhtmlXToolbarObject.prototype._removeItem=function(a){var c=this.getType(a),a=this.idPrefix+a,b=this.objPull[a];if(c=="button")b.obj._doOnMouseOver=null,b.obj._doOnMouseOut=null,b.obj._doOnMouseUp=null,b.obj._doOnMouseUpOnceAnywhere=null,b.obj.onclick=null,b.obj.onmouseover=null,b.obj.onmouseout=null,b.obj.onmouseup=null,b.obj.onmousedown=null,b.obj.onselectstart=null,b.obj.renderAs=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.state=null,b.img=null,b.imgEn=null,b.imgDis=
null,b.type=null,b.enableItem=null,b.disableItem=null,b.isEnabled=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setItemText=null,b.getItemText=null,b.setItemImage=null,b.clearItemImage=null,b.setItemImageDis=null,b.clearItemImageDis=null,b.setItemToolTip=null,b.getItemToolTip=null;if(c=="buttonTwoState")b.obj._doOnMouseOver=null,b.obj._doOnMouseOut=null,b.obj.onmouseover=null,b.obj.onmouseout=null,b.obj.onmousedown=null,b.obj.onselectstart=null,b.obj.renderAs=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),
b.obj=null,b.id=null,b.state=null,b.img=null,b.imgEn=null,b.imgDis=null,b.type=null,b.enableItem=null,b.disableItem=null,b.isEnabled=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setItemText=null,b.getItemText=null,b.setItemImage=null,b.clearItemImage=null,b.setItemImageDis=null,b.clearItemImageDis=null,b.setItemToolTip=null,b.getItemToolTip=null,b.setItemState=null,b.getItemState=null;if(c=="buttonSelect"){for(var d in b._listOptions)this.removeListOption(a,d);b._listOptions=null;if(b.polygon._ie6cover)document.body.removeChild(b.polygon._ie6cover),
b.polygon._ie6cover=null;b.p_tbl.removeChild(b.p_tbody);b.polygon.removeChild(b.p_tbl);b.polygon.onselectstart=null;document.body.removeChild(b.polygon);b.p_tbody=null;b.p_tbl=null;b.polygon=null;b.obj.onclick=null;b.obj.onmouseover=null;b.obj.onmouseout=null;b.obj.onmouseup=null;b.obj.onmousedown=null;b.obj.onselectstart=null;b.obj.idd=null;b.obj.iddPrefix=null;b.obj.parentNode.removeChild(b.obj);b.obj=null;b.arw.onclick=null;b.arw.onmouseover=null;b.arw.onmouseout=null;b.arw.onmouseup=null;b.arw.onmousedown=
null;b.arw.onselectstart=null;b.arw.parentNode.removeChild(b.arw);b.arw=null;b.renderSelect=null;b.state=null;b.type=null;b.id=null;b.img=null;b.imgEn=null;b.imgDis=null;b.openAll=null;b._isListButton=null;b._separatorButtonSelectObject=null;b._buttonButtonSelectObject=null;b.setWidth=null;b.enableItem=null;b.disableItem=null;b.isEnabled=null;b.showItem=null;b.hideItem=null;b.isVisible=null;b.setItemText=null;b.getItemText=null;b.setItemImage=null;b.clearItemImage=null;b.setItemImageDis=null;b.clearItemImageDis=
null;b.setItemToolTip=null;b.getItemToolTip=null;b.addListOption=null;b.removeListOption=null;b.showListOption=null;b.hideListOption=null;b.isListOptionVisible=null;b.enableListOption=null;b.disableListOption=null;b.isListOptionEnabled=null;b.setListOptionPosition=null;b.getListOptionPosition=null;b.setListOptionImage=null;b.getListOptionImage=null;b.clearListOptionImage=null;b.setListOptionText=null;b.getListOptionText=null;b.setListOptionToolTip=null;b.getListOptionToolTip=null;b.forEachListOption=
null;b.getAllListOptions=null;b.setListOptionSelected=null;b.getListOptionSelected=null}if(c=="buttonInput")b.obj.childNodes[0].onkeydown=null,b.obj.removeChild(b.obj.childNodes[0]),b.obj.w=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.type=null,b.enableItem=null,b.disableItem=null,b.isEnabled=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setItemToolTip=null,b.getItemToolTip=null,b.setWidth=null,b.getWidth=null,b.setValue=null,b.getValue=null,b.setItemText=
null,b.getItemText=null;if(c=="slider"){this._isIPad?(document.removeEventListener("touchmove",pen._doOnMouseMoveStart,!1),document.removeEventListener("touchend",pen._doOnMouseMoveEnd,!1)):_isIE?(document.body.detachEvent("onmousemove",b.pen._doOnMouseMoveStart),document.body.detachEvent("onmouseup",b.pen._doOnMouseMoveEnd)):(window.removeEventListener("mousemove",b.pen._doOnMouseMoveStart,!1),window.removeEventListener("mouseup",b.pen._doOnMouseMoveEnd,!1));b.pen.allowMove=null;b.pen.initXY=null;
b.pen.maxX=null;b.pen.minX=null;b.pen.nowX=null;b.pen.newNowX=null;b.pen.valueMax=null;b.pen.valueMin=null;b.pen.valueNow=null;b.pen._definePos=null;b.pen._detectLimits=null;b.pen._doOnMouseMoveStart=null;b.pen._doOnMouseMoveEnd=null;b.pen.onmousedown=null;b.obj.removeChild(b.pen);b.pen=null;b.label.tip=null;document.body.removeChild(b.label);b.label=null;b.obj.onselectstart=null;for(b.obj.idd=null;b.obj.childNodes.length>0;)b.obj.removeChild(b.obj.childNodes[0]);b.obj.parentNode.removeChild(b.obj);
b.obj=null;b.id=null;b.type=null;b.state=null;b.enableItem=null;b.disableItem=null;b.isEnabled=null;b.setItemToolTipTemplate=null;b.getItemToolTipTemplate=null;b.setMaxValue=null;b.setMinValue=null;b.getMaxValue=null;b.getMinValue=null;b.setValue=null;b.getValue=null;b.showItem=null;b.hideItem=null;b.isVisible=null}if(c=="separator")b.obj.onselectstart=null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.type=null,b.showItem=null,b.hideItem=null,b.isVisible=null;if(c=="text")b.obj.onselectstart=
null,b.obj.idd=null,b.obj.parentNode.removeChild(b.obj),b.obj=null,b.id=null,b.type=null,b.showItem=null,b.hideItem=null,b.isVisible=null,b.setWidth=null,b.setItemText=null,b.getItemText=null;b=c=null;this.objPull[this.idPrefix+a]=null;delete this.objPull[this.idPrefix+a]};
(function(){for(var a="addListOption,removeListOption,showListOption,hideListOption,isListOptionVisible,enableListOption,disableListOption,isListOptionEnabled,setListOptionPosition,getListOptionPosition,setListOptionText,getListOptionText,setListOptionToolTip,getListOptionToolTip,setListOptionImage,getListOptionImage,clearListOptionImage,forEachListOption,getAllListOptions,setListOptionSelected,getListOptionSelected".split(","),c=function(a){return function(b,c,d,i,k,l){b=this.idPrefix+b;if(this.objPull[b]!=
null)return this.objPull[b].type!="buttonSelect"?void 0:this.objPull[b][a].call(this.objPull[b],c,d,i,k,l)}},b=0;b<a.length;b++){var d=a[b];dhtmlXToolbarObject.prototype[d]=c(d)}})();dhtmlXToolbarObject.prototype._rtlParseBtn=function(a,c){return a+c};
dhtmlXToolbarObject.prototype._separatorObject=function(a,c,b){this.id=a.idPrefix+c;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_sep";this.obj.style.display=b.hidden!=null?"none":"";this.obj.idd=String(c);this.obj.title=b.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};if(a._isIPad)this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};a.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};return this};
dhtmlXToolbarObject.prototype._textObject=function(a,c,b){this.id=a.idPrefix+c;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_text";this.obj.style.display=b.hidden!=null?"none":"";this.obj.idd=String(c);this.obj.title=b.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};if(a._isIPad)this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.obj.innerHTML=b.text||"";a.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(a){this.obj.innerHTML=a};this.getItemText=function(){return this.obj.innerHTML};this.setWidth=function(a){this.obj.style.width=a+"px"};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._buttonObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?!1:!0;this.imgEn=b.img||"";this.imgDis=b.imgdis||"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=b.hidden!=null?"none":"";this.obj.allowClick=!1;this.obj.extAction=b.action||null;this.obj.renderAs=this.obj.className;this.obj.idd=String(c);
this.obj.title=b.title||"";this.obj.pressed=!1;this.obj.innerHTML=a._rtlParseBtn(this.img!=""?"<img src='"+a.imagePath+this.img+"'>":"",b.text!=null?"<div>"+b.text+"</div>":"");var d=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};this.obj._doOnMouseOver=function(){this.allowClick=!0;if(d.state!=!1&&a.anyUsed=="none")this.renderAs=this.className="dhx_toolbar_btn over"};
this.obj._doOnMouseOut=function(){this.allowClick=!1;if(d.state!=!1&&a.anyUsed=="none")this.className="dhx_toolbar_btn def",this.renderAs=this.renderAs};this.obj.onclick=function(b){if(d.state!=!1&&this.allowClick!=!1){var b=b||event,c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(g){}a&&a.callEvent&&a.callEvent("onClick",[c])}};this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(b){if(d.state==!1)return b=b||event,b.returnValue=!1,b.cancelBubble=!0,!1;
if(a.anyUsed=="none")return a.anyUsed=this.idd,this.className="dhx_toolbar_btn pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){a.anyUsed="none";this._doOnMouseOut()},!1};this.obj[a._isIPad?"ontouchend":"onmouseup"]=function(){if(d.state!=!1&&!(a.anyUsed!="none"&&a.anyUsed!=this.idd)){var b=a.anyUsed;this._doOnMouseUp();a._isIPad&&b!="none"&&a.callEvent("onClick",[this.idd.replace(a.idPrefix,"")])}};if(a._isIPad)this.obj.ontouchmove=function(){this._doOnMouseUp()};
this.obj._doOnMouseUp=function(){a.anyUsed="none";this.className=this.renderAs;this.pressed=!1};this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp();this.onmouseover=function(){this._doOnMouseOver()};this.onmouseout=function(){this._doOnMouseOut()}};a.base.appendChild(this.obj);this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display=
"none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};
return this};
dhtmlXToolbarObject.prototype._buttonSelectObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?b.enabled=="true"?!0:!1:!0;this.imgEn=b.img||"";this.imgDis=b.imgdis||"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.mode=b.mode||"button";if(this.mode=="select"){if(this.openAll=!0,this.renderSelect=!1,!b.text||b.text.length==0)b.text="&nbsp;"}else this.openAll=b.openAll=="true"||b.openAll==!0||b.openAll==1||b.openAll=="1"||b.openAll=="yes"||b.openAll==
"on",this.renderSelect=b.renderSelect!=null?b.renderSelect=="false"||b.renderSelect=="disabled"?!1:!0:!0;this.maxOpen=!isNaN(b.maxOpen?b.maxOpen:"")?b.maxOpen:null;this._maxOpenTest=function(){if(!isNaN(this.maxOpen)&&!a._sbw){var b=document.createElement("DIV");b.className="dhxtoolbar_maxopen_test";document.body.appendChild(b);var c=document.createElement("DIV");c.className="dhxtoolbar_maxopen_test2";b.appendChild(c);a._sbw=b.offsetWidth-c.offsetWidth;b.removeChild(c);c=null;document.body.removeChild(b);
b=null}};this._maxOpenTest();this.obj=document.createElement("DIV");this.obj.allowClick=!1;this.obj.extAction=b.action||null;this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=b.hidden!=null?"none":"";this.obj.renderAs=this.obj.className;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(c);this.obj.title=b.title||"";this.callEvent=this.obj.pressed=!1;this.obj.innerHTML=a._rtlParseBtn(this.img!=""?"<img src='"+a.imagePath+this.img+
"'>":"",b.text!=null?"<div>"+b.text+"</div>":"");a.base.appendChild(this.obj);this.arw=document.createElement("DIV");this.arw.className="dhx_toolbar_arw "+(this.state?"def":"dis");this.arw.style.display=this.obj.style.display;this.arw.innerHTML="<div class='arwimg'>&nbsp;</div>";this.arw.title=this.obj.title;this.arw.onselectstart=function(a){a=a||event;a.returnValue=!1};a.base.appendChild(this.arw);var d=this;this.obj.onmouseover=function(b){b=b||event;if(a.anyUsed=="none"&&d.state)d.obj.renderAs=
"dhx_toolbar_btn over",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw")};this.obj.onmouseout=function(){d.obj.allowClick=!1;if(a.anyUsed=="none"&&d.state)d.obj.renderAs="dhx_toolbar_btn def",d.obj.className=d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),d.callEvent=!1};this.arw.onmouseover=this.obj.onmouseover;this.arw.onmouseout=this.obj.onmouseout;if(this.openAll!=!0)this.obj.onclick=function(b){b=b||event;if(d.obj.allowClick&&
d.state&&a.anyUsed=="none"){var c=d.obj.idd.replace(a.idPrefix,"");if(d.obj.extAction)try{window[d.obj.extAction](c)}catch(e){}a.callEvent("onClick",[c])}},this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(b){b=b||event;if(a.anyUsed=="none"&&d.state)d.obj.allowClick=!0,d.obj.className="dhx_toolbar_btn pres",d.arw.className="dhx_toolbar_arw pres",d.callEvent=!0},this.obj[a._isIPad?"ontouchend":"onmouseup"]=function(b){b=b||event;b.cancelBubble=!0;if(a.anyUsed=="none"&&d.state&&(d.obj.className=
d.obj.renderAs,d.arw.className=String(d.obj.renderAs).replace("btn","arw"),a._isIPad&&d.callEvent)){var c=d.obj.idd.replace(a.idPrefix,"");a.callEvent("onClick",[c])}};if(a._isIPad)this.obj.ontouchmove=this.obj.onmouseout;this.arw[a._isIPad?"ontouchstart":"onmousedown"]=function(b){var b=b||event,c=this.className.indexOf("dhx_toolbar_arw")===0?this:this.nextSibling;c._skip?(b=b||event,b.cancelBubble=!0):c._skip=!0;c=null;if(d.state){if(a.anyUsed==d.obj.idd){d.obj.className=d.obj.renderAs;d.arw.className=
String(d.obj.renderAs).replace("btn","arw");a.anyUsed="none";d.polygon.style.display="none";if(d.polygon._ie6cover)d.polygon._ie6cover.style.display="none";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(d.id,!0)}else{if(a.anyUsed!="none"&&a.objPull[a.idPrefix+a.anyUsed].type=="buttonSelect"){var e=a.objPull[a.idPrefix+a.anyUsed];if(e.polygon.style.display!="none"){e.obj.renderAs="dhx_toolbar_btn def";e.obj.className=e.obj.renderAs;e.arw.className=String(d.obj.renderAs).replace("btn","arw");
e.polygon.style.display="none";if(e.polygon._ie6cover)e.polygon._ie6cover.style.display="none";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(e.id,!0)}}d.obj.className="dhx_toolbar_btn over";d.arw.className="dhx_toolbar_arw pres";a.anyUsed=d.obj.idd;d.polygon.style.top="0px";d.polygon.style.visibility="hidden";d.polygon.style.display="";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(d.id,!1);d._fixMaxOpenHeight(d.maxOpen||null);a._autoDetectVisibleArea();var f=getAbsoluteTop(d.obj)+d.obj.offsetHeight+
a.selectPolygonOffsetTop,l=d.polygon.offsetHeight;if(f+l>a.tY2){var m=d.maxOpen!=null?Math.floor((a.tY2-f)/22):0;m>=1?d._fixMaxOpenHeight(m):(f=getAbsoluteTop(d.obj)-l-a.selectPolygonOffsetTop,f<0&&(f=0))}d.polygon.style.top=f+"px";if(a.rtl)d.polygon.style.left=getAbsoluteLeft(d.obj)+d.obj.offsetWidth-d.polygon.offsetWidth+a.selectPolygonOffsetLeft+"px";else{var n=document.body.scrollLeft,j=n+(window.innerWidth||document.body.clientWidth),o=getAbsoluteLeft(d.obj)+a.selectPolygonOffsetLeft;o+d.polygon.offsetWidth>
j&&(o=getAbsoluteLeft(d.arw)+d.arw.offsetWidth-d.polygon.offsetWidth);d.polygon.style.left=o+"px"}d.polygon.style.visibility="visible";if(d.polygon._ie6cover)d.polygon._ie6cover.style.left=d.polygon.style.left,d.polygon._ie6cover.style.top=d.polygon.style.top,d.polygon._ie6cover.style.width=d.polygon.offsetWidth+"px",d.polygon._ie6cover.style.height=d.polygon.offsetHeight+"px",d.polygon._ie6cover.style.display=""}return!1}};this.arw.onclick=function(a){a=a||event;a.cancelBubble=!0};this.arw[a._isIPad?
"ontouchend":"onmouseup"]=function(a){a=a||event;a.cancelBubble=!0};if(this.openAll===!0&&(this.obj.onclick=this.arw.onclick,this.obj.onmousedown=this.arw.onmousedown,this.obj.onmouseup=this.arw.onmouseup,a._isIPad))this.obj.ontouchstart=this.arw.ontouchstart,this.obj.ontouchend=this.arw.ontouchend;this.obj.iddPrefix=a.idPrefix;this._listOptions={};this._fixMaxOpenHeight=function(b){var c="auto",e=!1;if(b!==null){var f=0,l;for(l in this._listOptions)f++;f>b?(this._ph=22*b,c=this._ph+"px"):e=!0}this.polygon.style.width=
"auto";this.polygon.style.height="auto";if(!e&&d.maxOpen!=null)this.polygon.style.width=this.p_tbl.offsetWidth+a._sbw+"px",this.polygon.style.height=c};this._separatorButtonSelectObject=function(a,b,c){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.className="tr_sep";this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td=document.createElement("TD");this.obj.td.colSpan="2";this.obj.td.className="td_btn_sep";this.obj.td.onselectstart=function(a){a=a||
event;return a.returnValue=!1};isNaN(c)?c=d.p_tbody.childNodes.length+1:c<1&&(c=1);c>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[c-1]);this.obj.tr.appendChild(this.obj.td);this.obj.sep=document.createElement("DIV");this.obj.sep.className="btn_sep";this.obj.sep.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td.appendChild(this.obj.sep);d._listOptions[a]=this.obj;return this};this._buttonButtonSelectObject=
function(b,c,e){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.en=c.enabled=="false"?!1:c.disabled=="true"?!1:!0;this.obj.tr.extAction=c.action||null;this.obj.tr._selected=c.selected!=null;this.obj.tr.className="tr_btn"+(this.obj.tr.en?this.obj.tr._selected&&d.renderSelect?" tr_btn_selected":"":" tr_btn_disabled");this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.tr.idd=String(b);if(c.userdata)this.obj.userData=c.userdata;isNaN(e)?e=d.p_tbody.childNodes.length+
1:e<1&&(e=1);e>d.p_tbody.childNodes.length?d.p_tbody.appendChild(this.obj.tr):d.p_tbody.insertBefore(this.obj.tr,d.p_tbody.childNodes[e-1]);this.obj.td_a=document.createElement("TD");this.obj.td_a.className="td_btn_img";this.obj.td_a.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td_b=document.createElement("TD");this.obj.td_b.className="td_btn_txt";this.obj.td_b.onselectstart=function(a){a=a||event;return a.returnValue=!1};a.rtl?(this.obj.tr.appendChild(this.obj.td_b),this.obj.tr.appendChild(this.obj.td_a)):
(this.obj.tr.appendChild(this.obj.td_a),this.obj.tr.appendChild(this.obj.td_b));if(c.img!=null)this.obj.td_a.innerHTML="<img class='btn_sel_img' src='"+a.imagePath+c.img+"' border='0'>",this.obj.tr._img=c.img;var f=c.text!=null?c.text:c.itemText||"";this.obj.td_b.innerHTML="<div class='btn_sel_text'>"+f+"</div>";this.obj.tr[a._isIPad?"ontouchstart":"onmouseover"]=function(){if(this.en&&(!this._selected||!d.renderSelect))this.className="tr_btn tr_btn_over"};this.obj.tr.onmouseout=function(){if(this.en)if(this._selected&&
d.renderSelect){if(String(this.className).search("tr_btn_selected")==-1)this.className="tr_btn tr_btn_selected"}else this.className="tr_btn"};this.obj.tr[a._isIPad?"ontouchend":"onclick"]=function(b){b=b||event;b.cancelBubble=!0;if(this.en){d.setListOptionSelected(this.idd.replace(a.idPrefix,""));d.obj.renderAs="dhx_toolbar_btn def";d.obj.className=d.obj.renderAs;d.arw.className=String(d.obj.renderAs).replace("btn","arw");d.polygon.style.display="none";if(d.polygon._ie6cover)d.polygon._ie6cover.style.display=
"none";a.skin=="dhx_terrace"&&a._improveTerraceButtonSelect(d.id,!0);a.anyUsed="none";var c=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](c)}catch(e){}a.callEvent("onClick",[c])}};d._listOptions[b]=this.obj;return this};this.polygon=document.createElement("DIV");this.polygon.dir="ltr";this.polygon.style.display="none";this.polygon.style.zIndex=101;this.polygon.className="dhx_toolbar_poly_"+a.iconSize+"_"+a.skin+(a.rtl?" rtl":"");this.polygon.onselectstart=function(a){a=
a||event;a.returnValue=!1};this.polygon.onmousedown=function(a){a=a||event;a.cancelBubble=!0};this.polygon.style.overflowY="auto";if(a._isIPad)this.polygon.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.p_tbl=document.createElement("TABLE");this.p_tbl.className="buttons_cont";this.p_tbl.cellSpacing="0";this.p_tbl.cellPadding="0";this.p_tbl.border="0";this.polygon.appendChild(this.p_tbl);this.p_tbody=document.createElement("TBODY");this.p_tbl.appendChild(this.p_tbody);
if(b.items)for(var e=0;e<b.items.length;e++){var f="_"+(b.items[e].type||"")+"ButtonSelectObject";typeof this[f]=="function"&&new this[f](b.items[e].id||a._genStr(24),b.items[e])}document.body.appendChild(this.polygon);if(a._isIE6)this.polygon._ie6cover=document.createElement("IFRAME"),this.polygon._ie6cover.frameBorder=0,this.polygon._ie6cover.style.position="absolute",this.polygon._ie6cover.style.border="none",this.polygon._ie6cover.style.backgroundColor="#000000",this.polygon._ie6cover.style.filter=
"alpha(opacity=100)",this.polygon._ie6cover.style.display="none",this.polygon._ie6cover.setAttribute("src","javascript:false;"),document.body.appendChild(this.polygon._ie6cover);this.setWidth=function(a){this.obj.style.width=a-this.arw.offsetWidth+"px";this.polygon.style.width=this.obj.offsetWidth+this.arw.offsetWidth-2+"px";this.p_tbl.style.width=this.polygon.style.width};this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};
this.showItem=function(){this.obj.style.display="";this.arw.style.display=""};this.hideItem=function(){this.obj.style.display="none";this.arw.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,
b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a;this.arw.title=a};this.getItemToolTip=function(){return this.obj.title};this.addListOption=function(a,b,c,d,e){if(c=="button"||c=="separator"){var f={id:a,type:c,text:d,img:e};new this["_"+c+"ButtonSelectObject"](a,f,b)}};this.removeListOption=function(a){if(this._isListButton(a,!0)){var b=this._listOptions[a];if(b.td_a!=null&&b.td_b!=null){b.td_a.onselectstart=null;for(b.td_b.onselectstart=
null;b.td_a.childNodes.length>0;)b.td_a.removeChild(b.td_a.childNodes[0]);for(;b.td_b.childNodes.length>0;)b.td_b.removeChild(b.td_b.childNodes[0]);b.tr.onselectstart=null;b.tr.onmouseover=null;b.tr.onmouseout=null;for(b.tr.onclick=null;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.td_a=null;b.td_b=null}else{b.sep.onselectstart=null;b.td.onselectstart=null;for(b.tr.onselectstart=null;b.td.childNodes.length>0;)b.td.removeChild(b.td.childNodes[0]);
for(;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.sep=null;b.td=null}b=b.tr=null;this._listOptions[a]=null;try{delete this._listOptions[a]}catch(c){}}};this.showListOption=function(a){if(this._isListButton(a,!0))this._listOptions[a].tr.style.display=""};this.hideListOption=function(a){if(this._isListButton(a,!0))this._listOptions[a].tr.style.display="none"};this.isListOptionVisible=function(a){return!this._isListButton(a,!0)?void 0:this._listOptions[a].tr.style.display!=
"none"};this.enableListOption=function(b){if(this._isListButton(b))this._listOptions[b].tr.en=!0,this._listOptions[b].tr.className="tr_btn"+(this._listOptions[b].tr._selected&&a.renderSelect?" tr_btn_selected":"")};this.disableListOption=function(a){if(this._isListButton(a))this._listOptions[a].tr.en=!1,this._listOptions[a].tr.className="tr_btn tr_btn_disabled"};this.isListOptionEnabled=function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.en};this.setListOptionPosition=function(a,
b){if(this._listOptions[a]&&!(this.getListOptionPosition(a)==b||isNaN(b))){b<1&&(b=1);var c=this._listOptions[a].tr;this.p_tbody.removeChild(c);b>this.p_tbody.childNodes.length?this.p_tbody.appendChild(c):this.p_tbody.insertBefore(c,this.p_tbody.childNodes[b-1]);c=null}};this.getListOptionPosition=function(a){var b=-1;if(!this._listOptions[a])return b;for(var c=0;c<this.p_tbody.childNodes.length;c++)this.p_tbody.childNodes[c]==this._listOptions[a].tr&&(b=c+1);return b};this.setListOptionImage=function(b,
c){if(this._isListButton(b)){var d=this._listOptions[b].tr.childNodes[a.rtl?1:0];if(d.childNodes.length>0)d.childNodes[0].src=a.imagePath+c;else{var e=document.createElement("IMG");e.className="btn_sel_img";e.src=a.imagePath+c;d.appendChild(e)}d=null}};this.getListOptionImage=function(b){if(this._isListButton(b)){var c=this._listOptions[b].tr.childNodes[a.rtl?1:0],d=null;if(c.childNodes.length>0)d=c.childNodes[0].src;c=null;return d}};this.clearListOptionImage=function(b){if(this._isListButton(b)){for(var c=
this._listOptions[b].tr.childNodes[a.rtl?1:0];c.childNodes.length>0;)c.removeChild(c.childNodes[0]);c=null}};this.setListOptionText=function(b,c){if(this._isListButton(b))this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML=c};this.getListOptionText=function(b){return!this._isListButton(b)?void 0:this._listOptions[b].tr.childNodes[a.rtl?0:1].childNodes[0].innerHTML};this.setListOptionToolTip=function(a,b){if(this._isListButton(a))this._listOptions[a].tr.title=b};this.getListOptionToolTip=
function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.title};this.forEachListOption=function(a){for(var b in this._listOptions)a(b)};this.getAllListOptions=function(){var a=[],b;for(b in this._listOptions)a[a.length]=b;return a};this.setListOptionSelected=function(a){for(var b in this._listOptions){var c=this._listOptions[b];if(c.td_a!=null&&c.td_b!=null&&c.tr.en)b==a?(c.tr._selected=!0,c.tr.className="tr_btn"+(this.renderSelect?" tr_btn_selected":""),this.mode=="select"&&(c.tr._img?
this.setItemImage(c.tr._img):this.clearItemImage(),this.setItemText(this.getListOptionText(a)))):(c.tr._selected=!1,c.tr.className="tr_btn");c=null}};this.getListOptionSelected=function(){var a=null,b;for(b in this._listOptions)this._listOptions[b].tr._selected==!0&&(a=b);return a};this._isListButton=function(a,b){return this._listOptions[a]==null?!1:!b&&this._listOptions[a].tr.className=="tr_sep"?!1:!0};this.setMaxOpen=function(a){this._ph=null;typeof a=="number"?(this.maxOpen=a,this._maxOpenTest()):
this.maxOpen=null};b.width&&this.setWidth(b.width);this.mode=="select"&&typeof b.selected!="undefined"&&this.setListOptionSelected(b.selected);return this};
dhtmlXToolbarObject.prototype._buttonInputObject=function(a,c,b){this.id=a.idPrefix+c;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn def";this.obj.style.display=b.hidden!=null?"none":"";this.obj.idd=String(c);this.obj.w=b.width!=null?b.width:100;this.obj.title=b.title!=null?b.title:"";this.obj.innerHTML="<input class='inp' type='text' style='-moz-user-select:text;width:"+this.obj.w+"px;'"+(b.value!=null?" value='"+b.value+"'":"")+">";var d=a,e=this;this.obj.childNodes[0].onkeydown=
function(a){a=a||event;a.keyCode==13&&d.callEvent("onEnter",[e.obj.idd,this.value])};a.base.appendChild(this.obj);this.enableItem=function(){this.obj.childNodes[0].disabled=!1};this.disableItem=function(){this.obj.childNodes[0].disabled=!0};this.isEnabled=function(){return!this.obj.childNodes[0].disabled};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display!="none"};this.setValue=function(a){this.obj.childNodes[0].value=
a};this.getValue=function(){return this.obj.childNodes[0].value};this.setWidth=function(a){this.obj.w=a;this.obj.childNodes[0].style.width=this.obj.w+"px"};this.getWidth=function(){return this.obj.w};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};this.getInput=function(){return this.obj.firstChild};return this};
dhtmlXToolbarObject.prototype._buttonTwoStateObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?!1:!0;this.imgEn=b.img!=null?b.img:"";this.imgDis=b.imgdis!=null?b.imgdis:"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.pressed=b.selected!=null;this.obj.extAction=b.action||null;this.obj.className="dhx_toolbar_btn "+(this.obj.pressed?"pres"+(this.state?"":"_dis"):this.state?"def":"dis");this.obj.style.display=
b.hidden!=null?"none":"";this.obj.renderAs=this.obj.className;this.obj.idd=String(c);this.obj.title=b.title||"";if(this.obj.pressed)this.obj.renderAs="dhx_toolbar_btn over";this.obj.innerHTML=a._rtlParseBtn(this.img!=""?"<img src='"+a.imagePath+this.img+"'>":"",b.text!=null?"<div>"+b.text+"</div>":"");a.base.appendChild(this.obj);var d=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};
this.obj._doOnMouseOver=function(){if(d.state!=!1&&a.anyUsed=="none")this.renderAs=this.pressed?"dhx_toolbar_btn over":this.className="dhx_toolbar_btn over"};this.obj._doOnMouseOut=function(){if(d.state!=!1&&a.anyUsed=="none")this.renderAs=this.pressed?"dhx_toolbar_btn def":this.className="dhx_toolbar_btn def"};this.obj[a._isIPad?"ontouchstart":"onmousedown"]=function(){if((!a.checkEvent("onBeforeStateChange")||a.callEvent("onBeforeStateChange",[this.idd.replace(a.idPrefix,""),this.pressed]))&&d.state!=
!1&&a.anyUsed=="none"){this.className=(this.pressed=!this.pressed)?"dhx_toolbar_btn pres":this.renderAs;var b=this.idd.replace(a.idPrefix,"");if(this.extAction)try{window[this.extAction](b,this.pressed)}catch(c){}a.callEvent("onStateChange",[b,this.pressed]);return!1}};this.setItemState=function(b,c){if(this.obj.pressed!=b&&(b==!0?(this.obj.pressed=!0,this.obj.className="dhx_toolbar_btn pres"+(this.state?"":"_dis"),this.obj.renderAs="dhx_toolbar_btn over"):(this.obj.pressed=!1,this.obj.className=
"dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.renderAs=this.obj.className),c==!0)){var d=this.obj.idd.replace(a.idPrefix,"");if(this.obj.extAction)try{window[this.obj.extAction](d,this.obj.pressed)}catch(h){}a.callEvent("onStateChange",[d,this.obj.pressed])}};this.getItemState=function(){return this.obj.pressed};this.enableItem=function(){a._enableItem(this)};this.disableItem=function(){a._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(b){a._setItemText(this,b)};this.getItemText=function(){return a._getItemText(this)};this.setItemImage=function(b){a._setItemImage(this,b,!0)};this.clearItemImage=function(){a._clearItemImage(this,!0)};this.setItemImageDis=function(b){a._setItemImage(this,b,!1)};this.clearItemImageDis=function(){a._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=
a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._sliderObject=function(a,c,b){this.id=a.idPrefix+c;this.state=b.enabled!=null?b.enabled=="true"?!0:!1:!0;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=b.hidden!=null?"none":"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(c);this.obj.len=b.length!=null?Number(b.length):50;this.obj.innerHTML="<div>"+(b.textMin||"")+"</div><div class='sl_bg_l'></div><div class='sl_bg_m' style='width:"+
this.obj.len+"px;'></div><div class='sl_bg_r'></div><div>"+(b.textMax||"")+"</div>";a.base.appendChild(this.obj);var d=this;this.pen=document.createElement("DIV");this.pen.className="sl_pen";this.obj.appendChild(this.pen);var e=this.pen;this.label=document.createElement("DIV");this.label.dir="ltr";this.label.className="dhx_toolbar_slider_label_"+a.skin+(a.rtl?"_rtl":"");this.label.style.display="none";this.label.tip=b.toolTip||"%v";document.body.appendChild(this.label);var f=this.label;this.pen.valueMin=
b.valueMin!=null?Number(b.valueMin):0;this.pen.valueMax=b.valueMax!=null?Number(b.valueMax):100;if(this.pen.valueMin>this.pen.valueMax)this.pen.valueMin=this.pen.valueMax;this.pen.valueNow=b.valueNow!=null?Number(b.valueNow):this.pen.valueMax;if(this.pen.valueNow>this.pen.valueMax)this.pen.valueNow=this.pen.valueMax;if(this.pen.valueNow<this.pen.valueMin)this.pen.valueNow=this.pen.valueMin;this.pen._detectLimits=function(){this.minX=d.obj.childNodes[1].offsetLeft-4;this.maxX=d.obj.childNodes[3].offsetLeft-
this.offsetWidth+1};this.pen._detectLimits();this.pen._definePos=function(){this.nowX=Math.round((this.valueNow-this.valueMin)*(this.maxX-this.minX)/(this.valueMax-this.valueMin)+this.minX);this.style.left=this.nowX+"px";this.newNowX=this.nowX};this.pen._definePos();this.pen.initXY=0;this.pen.allowMove=!1;this.pen[a._isIPad?"ontouchstart":"onmousedown"]=function(b){if(d.state!=!1&&(b=b||event,this.initXY=a._isIPad?b.touches[0].clientX:b.clientX,this.newValueNow=this.valueNow,this.allowMove=!0,this.className=
"sl_pen over",f.tip!=""))f.style.visibility="hidden",f.style.display="",f.innerHTML=f.tip.replace("%v",this.valueNow),f.style.left=Math.round(getAbsoluteLeft(this)+this.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(this)-f.offsetHeight-3+"px",f.style.visibility=""};this.pen._doOnMouseMoveStart=function(b){b=b||event;if(e.allowMove){var c=a._isIPad?b.touches[0].clientX:b.clientX,d=c-e.initXY;if(!(c<getAbsoluteLeft(e)+Math.round(e.offsetWidth/2)&&e.nowX==e.minX)&&!(c>getAbsoluteLeft(e)+
Math.round(e.offsetWidth/2)&&e.nowX==e.maxX)){e.newNowX=e.nowX+d;if(e.newNowX<e.minX)e.newNowX=e.minX;if(e.newNowX>e.maxX)e.newNowX=e.maxX;e.nowX=e.newNowX;e.style.left=e.nowX+"px";e.initXY=c;e.newValueNow=Math.round((e.valueMax-e.valueMin)*(e.newNowX-e.minX)/(e.maxX-e.minX)+e.valueMin);if(f.tip!="")f.innerHTML=f.tip.replace(/%v/gi,e.newValueNow),f.style.left=Math.round(getAbsoluteLeft(e)+e.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(e)-f.offsetHeight-3+"px";b.cancelBubble=!0;return b.returnValue=
!1}}};this.pen._doOnMouseMoveEnd=function(){if(e.allowMove){e.className="sl_pen";e.allowMove=!1;e.nowX=e.newNowX;e.valueNow=e.newValueNow;if(f.tip!="")f.style.display="none";a.callEvent("onValueChange",[d.obj.idd.replace(a.idPrefix,""),e.valueNow])}};a._isIPad?(document.addEventListener("touchmove",e._doOnMouseMoveStart,!1),document.addEventListener("touchend",e._doOnMouseMoveEnd,!1)):_isIE?(document.body.attachEvent("onmousemove",e._doOnMouseMoveStart),document.body.attachEvent("onmouseup",e._doOnMouseMoveEnd)):
(window.addEventListener("mousemove",e._doOnMouseMoveStart,!1),window.addEventListener("mouseup",e._doOnMouseMoveEnd,!1));this.enableItem=function(){if(!this.state)this.state=!0,this.obj.className="dhx_toolbar_btn def"};this.disableItem=function(){if(this.state)this.state=!1,this.obj.className="dhx_toolbar_btn dis"};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==
""};this.setValue=function(b,c){b=Number(b);if(b<this.pen.valueMin)b=this.pen.valueMin;if(b>this.pen.valueMax)b=this.pen.valueMax;this.pen.valueNow=b;this.pen._definePos();c==!0&&a.callEvent("onValueChange",[this.obj.idd.replace(a.idPrefix,""),this.pen.valueNow])};this.getValue=function(){return this.pen.valueNow};this.setMinValue=function(a,b){a=Number(a);if(!(a>this.pen.valueMax)){this.obj.childNodes[0].innerHTML=b;this.obj.childNodes[0].style.display=b.length>0?"":"none";this.pen.valueMin=a;if(this.pen.valueNow<
this.pen.valueMin)this.pen.valueNow=this.pen.valueMin;this.pen._detectLimits();this.pen._definePos()}};this.setMaxValue=function(a,b){a=Number(a);if(!(a<this.pen.valueMin)){this.obj.childNodes[4].innerHTML=b;this.obj.childNodes[4].style.display=b.length>0?"":"none";this.pen.valueMax=a;if(this.pen.valueNow>this.pen.valueMax)this.pen.valueNow=this.pen.valueMax;this.pen._detectLimits();this.pen._definePos()}};this.getMinValue=function(){var a=this.obj.childNodes[0].innerHTML,b=this.pen.valueMin;return[b,
a]};this.getMaxValue=function(){var a=this.obj.childNodes[4].innerHTML,b=this.pen.valueMax;return[b,a]};this.setItemToolTipTemplate=function(a){this.label.tip=a};this.getItemToolTipTemplate=function(){return this.label.tip};return this};
dhtmlXToolbarObject.prototype.unload=function(){this._isIPad?document.removeEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.detachEvent("onmousedown",this._doOnClick):window.removeEventListener("mousedown",this._doOnClick,!1);this._doOnClick=null;this.clearAll();this.objPull=null;if(this._xmlLoader)this._xmlLoader.destructor(),this._xmlLoader=null;for(;this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.cont.removeChild(this.base);for(this.base=null;this.cont.childNodes.length>
0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.className="";this.cont=null;this.detachAllEvents();this.items=this.setMaxOpen=this.getUserData=this.setUserData=this.unload=this.getListOptionSelected=this.setListOptionSelected=this.getAllListOptions=this.forEachListOption=this.clearListOptionImage=this.getListOptionImage=this.setListOptionImage=this.getListOptionToolTip=this.setListOptionToolTip=this.getListOptionText=this.setListOptionText=this.getListOptionPosition=this.setListOptionPosition=
this.isListOptionEnabled=this.disableListOption=this.enableListOption=this.isListOptionVisible=this.hideListOption=this.showListOption=this.removeListOption=this.addListOption=this.removeItem=this.setPosition=this.getPosition=this.getWidth=this.setWidth=this.getMaxValue=this.setMaxValue=this.getMinValue=this.setMinValue=this.getValue=this.setValue=this.getItemToolTipTemplate=this.setItemToolTipTemplate=this.getItemState=this.setItemState=this.clearItemImageDis=this.clearItemImage=this.setItemImageDis=
this.setItemImage=this.getItemToolTip=this.setItemToolTip=this.getItemText=this.setItemText=this.isEnabled=this.disableItem=this.enableItem=this.isVisible=this.hideItem=this.showItem=this.forEachItem=this.addInput=this.addSlider=this.addSeparator=this.addButtonTwoState=this.addButtonSelect=this.addText=this.addButton=this.getParentId=this.inArray=this.getTypeExt=this.getType=this.removeSpacer=this.addSpacer=this.clearAll=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=
this.attachEvent=this.loadXMLString=this.loadXML=this.setIconPath=this.setIconsPath=this.setSkin=this.setAlign=this._removeItem=this._autoDetectVisibleArea=this._sliderObject=this._buttonTwoStateObject=this._buttonInputObject=this._buttonSelectObject=this._buttonObject=this._textObject=this._separatorObject=this._getIdByPosition=this._setPosition=this._getPosition=this._addItem=this._genStr=this._addItemToStorage=this._doOnLoad=this._xmlParser=this._disableItem=this._enableItem=this._getItemText=
this._setItemText=this._clearItemImage=this._setItemImage=this._addImgObj=this._getObj=this._sbw=this.setRTL=this._rtlParseBtn=this._rtl=this.skin=this.selectPolygonOffsetTop=this.selectPolygonOffsetLeft=this.rootTypes=this.imagePath=this.idPrefix=this.anyUsed=this.align=this._isWebToolbar=this._isIE6=this.tY2=this.tY1=this.tX2=this.tX1=null};
dhtmlXToolbarObject.prototype._autoDetectVisibleArea=function(){this.tX1=document.body.scrollLeft;this.tX2=this.tX1+(window.innerWidth||document.body.clientWidth);this.tY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop);this.tY2=this.tY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight)};
dhtmlXToolbarObject.prototype.setUserData=function(a,c,b){if(this.objPull[this.idPrefix+a]!=null){var d=this.objPull[this.idPrefix+a];if(d.userData==null)d.userData={};d.userData[c]=b}};dhtmlXToolbarObject.prototype.getUserData=function(a,c){return this.objPull[this.idPrefix+a]==null?null:this.objPull[this.idPrefix+a].userData==null?null:this.objPull[this.idPrefix+a].userData[c]==null?null:this.objPull[this.idPrefix+a].userData[c]};
dhtmlXToolbarObject.prototype._isListOptionExists=function(a,c){if(this.objPull[this.idPrefix+a]==null)return!1;var b=this.objPull[this.idPrefix+a];return b.type!="buttonSelect"?!1:b._listOptions[c]==null?!1:!0};dhtmlXToolbarObject.prototype.setListOptionUserData=function(a,c,b,d){if(this._isListOptionExists(a,c)){var e=this.objPull[this.idPrefix+a]._listOptions[c];if(e.userData==null)e.userData={};e.userData[b]=d}};
dhtmlXToolbarObject.prototype.getListOptionUserData=function(a,c,b){if(!this._isListOptionExists(a,c))return null;var d=this.objPull[this.idPrefix+a]._listOptions[c];return!d.userData?null:d.userData[b]?d.userData[b]:null};
(function(){dhtmlx.extend_api("dhtmlXToolbarObject",{_init:function(a){return[a.parent,a.skin]},icon_path:"setIconsPath",xml:"loadXML",items:"items",align:"setAlign",rtl:"setRTL",skin:"setSkin"},{items:function(a){for(var c=0;c<a.length;c++){var b=a[c];b.type=="button"&&this.addButton(b.id,null,b.text,b.img,b.img_disabled);b.type=="separator"&&this.addSeparator(b.id,null);b.type=="text"&&this.addText(b.id,null,b.text);b.type=="buttonSelect"&&this.addButtonSelect(b.id,null,b.text,b.options,b.img,b.img_disabled,
b.renderSelect,b.openAll,b.maxOpen);b.type=="buttonTwoState"&&this.addButtonTwoState(b.id,null,b.text,b.img,b.img_disabled);b.type=="buttonInput"&&this.addInput(b.id,null,b.text);b.type=="slider"&&this.addSlider(b.id,null,b.length,b.value_min,b.value_max,b.value_now,b.text_min,b.text_max,b.tip_template);b.width&&this.setWidth(b.id,b.width);b.disabled&&this.disableItem(b.id);b.tooltip&&this.setItemToolTip(b.id,b.tooltip);b.pressed===!0&&this.setItemState(b.id,!0)}}})})();
function dataProcessor(a){this.serverProcessor=a;this.action_param="!nativeeditor_status";this.object=null;this.updatedRows=[];this.autoUpdate=!0;this.updateMode="cell";this._tMode="GET";this.post_delim="_";this._waitMode=0;this._in_progress={};this._invalid={};this.mandatoryFields=[];this.messages=[];this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",clear:"font-weight:normal;text-decoration:none;"};
this.enableUTFencoding(!0);dhtmlxEventable(this);return this}
dataProcessor.prototype={setTransactionMode:function(a,c){this._tMode=a;this._tSend=c},escape:function(a){return this._utf?encodeURIComponent(a):escape(a)},enableUTFencoding:function(a){this._utf=convertStringToBoolean(a)},setDataColumns:function(a){this._columns=typeof a=="string"?a.split(","):a},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(a){this._endnm=convertStringToBoolean(a)},enablePartialDataSend:function(a){this._changed=convertStringToBoolean(a)},setUpdateMode:function(a,
c){this.autoUpdate=a=="cell";this.updateMode=a;this.dnd=c},ignore:function(a,c){this._silent_mode=!0;a.call(c||window);this._silent_mode=!1},setUpdated:function(a,c,b){if(!this._silent_mode){var d=this.findRow(a),b=b||"updated",e=this.obj.getUserData(a,this.action_param);e&&b=="updated"&&(b=e);c?(this.set_invalid(a,!1),this.updatedRows[d]=a,this.obj.setUserData(a,this.action_param,b),this._in_progress[a]&&(this._in_progress[a]="wait")):this.is_invalid(a)||(this.updatedRows.splice(d,1),this.obj.setUserData(a,
this.action_param,""));c||this._clearUpdateFlag(a);this.markRow(a,c,b);c&&this.autoUpdate&&this.sendData(a)}},_clearUpdateFlag:function(){},markRow:function(a,c,b){var d="",e=this.is_invalid(a);e&&(d=this.styles[e],c=!0);if(this.callEvent("onRowMark",[a,c,b,e])&&(d=this.styles[c?b:"clear"]+d,this.obj[this._methods[0]](a,d),e&&e.details)){d+=this.styles[e+"_cell"];for(var f=0;f<e.details.length;f++)if(e.details[f])this.obj[this._methods[1]](a,f,d)}},getState:function(a){return this.obj.getUserData(a,
this.action_param)},is_invalid:function(a){return this._invalid[a]},set_invalid:function(a,c,b){b&&(c={value:c,details:b,toString:function(){return this.value.toString()}});this._invalid[a]=c},checkBeforeUpdate:function(){return!0},sendData:function(a){if(!this._waitMode||!(this.obj.mytype=="tree"||this.obj._h2)){this.obj.editStop&&this.obj.editStop();if(typeof a=="undefined"||this._tSend)return this.sendAllData();if(this._in_progress[a])return!1;this.messages=[];if(!this.checkBeforeUpdate(a)&&this.callEvent("onValidationError",
[a,this.messages]))return!1;this._beforeSendData(this._getRowData(a),a)}},_beforeSendData:function(a,c){if(!this.callEvent("onBeforeUpdate",[c,this.getState(c),a]))return!1;this._sendData(a,c)},serialize:function(a,c){if(typeof a=="string")return a;if(typeof c!="undefined")return this.serialize_one(a,"");else{var b=[],d=[],e;for(e in a)a.hasOwnProperty(e)&&(b.push(this.serialize_one(a[e],e+this.post_delim)),d.push(e));b.push("ids="+this.escape(d.join(",")));dhtmlx.security_key&&b.push("dhx_security="+
dhtmlx.security_key);return b.join("&")}},serialize_one:function(a,c){if(typeof a=="string")return a;var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(this.escape((c||"")+d)+"="+this.escape(a[d]));return b.join("&")},_sendData:function(a,c){if(a){if(!this.callEvent("onBeforeDataSending",c?[c,this.getState(c),a]:[null,null,a]))return!1;c&&(this._in_progress[c]=(new Date).valueOf());var b=new dtmlXMLLoaderObject(this.afterUpdate,this,!0),d=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+
["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):"");this._tMode!="POST"?b.loadXML(d+(d.indexOf("?")!=-1?"&":"?")+this.serialize(a,c)):b.loadXML(d,!0,this.serialize(a,c));this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var a=!0,c=0;c<this.updatedRows.length;c++)a&=this.checkBeforeUpdate(this.updatedRows[c]);if(!a&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());
else for(c=0;c<this.updatedRows.length;c++)if(!this._in_progress[this.updatedRows[c]]&&!this.is_invalid(this.updatedRows[c])&&(this._beforeSendData(this._getRowData(this.updatedRows[c]),this.updatedRows[c]),this._waitMode&&(this.obj.mytype=="tree"||this.obj._h2)))break}},_getAllData:function(){for(var a={},c=!1,b=0;b<this.updatedRows.length;b++){var d=this.updatedRows[b];!this._in_progress[d]&&!this.is_invalid(d)&&this.callEvent("onBeforeUpdate",[d,this.getState(d)])&&(a[d]=this._getRowData(d,d+this.post_delim),
c=!0,this._in_progress[d]=(new Date).valueOf())}return c?a:null},setVerificator:function(a,c){this.mandatoryFields[a]=c||function(a){return a!=""}},clearVerificator:function(a){this.mandatoryFields[a]=!1},findRow:function(a){for(var c=0,c=0;c<this.updatedRows.length;c++)if(a==this.updatedRows[c])break;return c},defineAction:function(a,c){if(!this._uActions)this._uActions=[];this._uActions[a]=c},afterUpdateCallback:function(a,c,b,d){var e=a,f=b!="error"&&b!="invalid";f||this.set_invalid(a,b);if(this._uActions&&
this._uActions[b]&&!this._uActions[b](d))return delete this._in_progress[e];this._in_progress[e]!="wait"&&this.setUpdated(a,!1);var g=a;switch(b){case "inserted":case "insert":c!=a&&(this.obj[this._methods[2]](a,c),a=c);break;case "delete":case "deleted":return this.obj.setUserData(a,this.action_param,"true_deleted"),this.obj[this._methods[3]](a),delete this._in_progress[e],this.callEvent("onAfterUpdate",[a,b,c,d])}this._in_progress[e]!="wait"?(f&&this.obj.setUserData(a,this.action_param,""),delete this._in_progress[e]):
(delete this._in_progress[e],this.setUpdated(c,!0,this.obj.getUserData(a,this.action_param)));this.callEvent("onAfterUpdate",[g,b,c,d])},afterUpdate:function(a,c,b,d,e){e.getXMLTopNode("data");if(e.xmlDoc.responseXML){for(var f=e.doXPath("//data/action"),g=0;g<f.length;g++){var h=f[g],i=h.getAttribute("type"),k=h.getAttribute("sid"),l=h.getAttribute("tid");a.afterUpdateCallback(k,l,i,h)}a.finalizeUpdate()}},finalizeUpdate:function(){this._waitMode&&this._waitMode--;(this.obj.mytype=="tree"||this.obj._h2)&&
this.updatedRows.length&&this.sendData();this.callEvent("onAfterUpdateFinish",[]);this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(a){this.obj=a;this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(a){this.attachEvent("onAfterUpdate",a)},enableDebug:function(){},setOnBeforeUpdateHandler:function(a){this.attachEvent("onBeforeDataSending",a)},setAutoUpdate:function(a,c){a=a||2E3;this._user=c||(new Date).valueOf();this._need_update=!1;this._loader=null;this._update_busy=
!1;this.attachEvent("onAfterUpdate",function(a,b,c,g){this.afterAutoUpdate(a,b,c,g)});this.attachEvent("onFullSync",function(){this.fullSync()});var b=this;window.setInterval(function(){b.loadUpdate()},a)},afterAutoUpdate:function(a,c){return c=="collision"?(this._need_update=!0,!1):!0},fullSync:function(){if(this._need_update==!0)this._need_update=!1,this.loadUpdate();return!0},getUpdates:function(a,c){if(this._update_busy)return!1;else this._update_busy=!0;this._loader=this._loader||new dtmlXMLLoaderObject(!0);
this._loader.async=!0;this._loader.waitCall=c;this._loader.loadXML(a)},_v:function(a){return a.firstChild?a.firstChild.nodeValue:""},_a:function(a){for(var c=[],b=0;b<a.length;b++)c[b]=this._v(a[b]);return c},loadUpdate:function(){var a=this,c=this.obj.getUserData(0,"version"),b=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+c].join("&"),b=b.replace("editing=true&","");this.getUpdates(b,function(){var b=a._loader.doXPath("//userdata");a.obj.setUserData(0,
"version",a._v(b[0]));var c=a._loader.doXPath("//update");if(c.length){a._silent_mode=!0;for(var f=0;f<c.length;f++){var g=c[f].getAttribute("status"),h=c[f].getAttribute("id"),i=c[f].getAttribute("parent");switch(g){case "inserted":a.callEvent("insertCallback",[c[f],h,i]);break;case "updated":a.callEvent("updateCallback",[c[f],h,i]);break;case "deleted":a.callEvent("deleteCallback",[c[f],h,i])}}a._silent_mode=!1}a._update_busy=!1;a=null})}};window.dhx||(dhx={});dhx.version="3.0";dhx.codebase="./";
dhx.name="Core";dhx.clone=function(a){var c=dhx.clone.xa;c.prototype=a;return new c};dhx.clone.xa=function(){};dhx.extend=function(a,c,b){if(a.q)return dhx.PowerArray.insertAt.call(a.q,c,1),a;for(var d in c)if(!a[d]||b)a[d]=c[d];c.defaults&&dhx.extend(a.defaults,c.defaults);c.$init&&c.$init.call(a);return a};
dhx.copy=function(a){if(arguments.length>1)var c=arguments[0],a=arguments[1];else c=dhx.isArray(a)?[]:{};for(var b in a)a[b]&&typeof a[b]=="object"&&!dhx.isDate(a[b])?(c[b]=dhx.isArray(a[b])?[]:{},dhx.copy(c[b],a[b])):c[b]=a[b];return c};dhx.single=function(a){var c=null,b=function(b){c||(c=new a({}));c.Ia&&c.Ia.apply(c,arguments);return c};return b};
dhx.protoUI=function(){var a=arguments,c=a[0].name,b=function(a){if(!b)return dhx.ui[c].prototype;var e=b.q;if(e){for(var f=[e[0]],g=1;g<e.length;g++)f[g]=e[g],f[g].q&&(f[g]=f[g].call(dhx,f[g].name)),f[g].prototype&&f[g].prototype.name&&(dhx.ui[f[g].prototype.name]=f[g]);dhx.ui[c]=dhx.proto.apply(dhx,f);if(b.r)for(g=0;g<b.r.length;g++)dhx.Type(dhx.ui[c],b.r[g]);b=e=null}return this!=dhx?new dhx.ui[c](a):dhx.ui[c]};b.q=Array.prototype.slice.call(arguments,0);return dhx.ui[c]=b};
dhx.proto=function(){for(var a=arguments,c=a[0],b=!!c.$init,d=[],e=a.length-1;e>0;e--){if(typeof a[e]=="function")a[e]=a[e].prototype;a[e].$init&&d.push(a[e].$init);if(a[e].defaults){var f=a[e].defaults;if(!c.defaults)c.defaults={};for(var g in f)dhx.isUndefined(c.defaults[g])&&(c.defaults[g]=f[g])}if(a[e].type&&c.type)for(g in a[e].type)c.type[g]||(c.type[g]=a[e].type[g]);for(var h in a[e])c[h]||(c[h]=a[e][h])}b&&d.push(c.$init);c.$init=function(){for(var a=0;a<d.length;a++)d[a].apply(this,arguments)};
var i=function(a){this.$ready=[];this.$init(a);this.$&&this.$(a,this.defaults);for(var b=0;b<this.$ready.length;b++)this.$ready[b].call(this)};i.prototype=c;c=a=null;return i};dhx.bind=function(a,c){return function(){return a.apply(c,arguments)}};
dhx.require=function(a,c,b,d,e){if(typeof a!="string"){var f=a.length||0,g=c;if(f)c=function(){if(f)f--,dhx.require(a[a.length-f-1],c,b);else return g.apply(this,arguments)},c();else{for(var h in a)f++;c=function(){f--;f===0&&g.apply(this,arguments)};for(h in a)dhx.require(h,c,b)}}else if(dhx.i[a]!==!0)if(a.substr(-4)==".css"){var i=dhx.html.create("LINK",{type:"text/css",rel:"stylesheet",href:dhx.codebase+a});document.head.appendChild(i);c&&c.call(b||window)}else{var k=e;c?dhx.i[a]?dhx.i[a].push([c,
b]):(dhx.i[a]=[[c,b]],dhx.ajax(dhx.codebase+a,function(b){dhx.exec(b);var c=dhx.i[a];dhx.i[a]=!0;for(var d=0;d<c.length;d++)c[d][0].call(c[d][1]||window,!d)})):(dhx.exec(dhx.ajax().sync().get(dhx.codebase+a).responseText),dhx.i[a]=!0)}};dhx.i={};dhx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};dhx.wrap=function(a,c){return!a?c:function(){var b=a.apply(this,arguments);c.apply(this,arguments);return b}};dhx.isUndefined=function(a){return typeof a=="undefined"};
dhx.delay=function(a,c,b,d){return window.setTimeout(function(){var d=a.apply(c,b||[]);a=c=b=null;return d},d||1)};dhx.uid=function(){if(!this.R)this.R=(new Date).valueOf();this.R++;return this.R};dhx.toNode=function(a){return typeof a=="string"?document.getElementById(a):a};dhx.toArray=function(a){return dhx.extend(a||[],dhx.PowerArray,!0)};dhx.toFunctor=function(a){return typeof a=="string"?eval(a):a};
dhx.isArray=function(a){return Array.isArray?Array.isArray(a):Object.prototype.toString.call(a)==="[object Array]"};dhx.isDate=function(a){return a instanceof Date};dhx.L={};dhx.event=function(a,c,b,d){var a=dhx.toNode(a),e=dhx.uid();d&&(b=dhx.bind(b,d));dhx.L[e]=[a,c,b];a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent&&a.attachEvent("on"+c,b);return e};
dhx.eventRemove=function(a){if(a){var c=dhx.L[a];c[0].removeEventListener?c[0].removeEventListener(c[1],c[2],!1):c[0].detachEvent&&c[0].detachEvent("on"+c[1],c[2]);delete this.L[a]}};
dhx.EventSystem={$init:function(){if(!this.e)this.e={},this.s={},this.M={}},blockEvent:function(){this.e.T=!0},unblockEvent:function(){this.e.T=!1},mapEvent:function(a){dhx.extend(this.M,a,!0)},on_setter:function(a){if(a)for(var c in a)typeof a[c]=="function"&&this.attachEvent(c,a[c])},callEvent:function(a,c){if(this.e.T)return!0;var a=a.toLowerCase(),b=this.e[a.toLowerCase()],d=!0;if(b)for(var e=0;e<b.length;e++)if(b[e].apply(this,c||[])===!1)d=!1;this.M[a]&&!this.M[a].callEvent(a,c)&&(d=!1);return d},
attachEvent:function(a,c,b){var a=a.toLowerCase(),b=b||dhx.uid(),c=dhx.toFunctor(c),d=this.e[a]||dhx.toArray();d.push(c);this.e[a]=d;this.s[b]={f:c,t:a};return b},detachEvent:function(a){if(this.s[a]){var c=this.s[a].t,b=this.s[a].f,d=this.e[c];d.remove(b);delete this.s[a]}},hasEvent:function(a){a=a.toLowerCase();return this.e[a]?!0:!1}};dhx.extend(dhx,dhx.EventSystem);
dhx.PowerArray={removeAt:function(a,c){a>=0&&this.splice(a,c||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,c){if(!c&&c!==0)this.push(a);else{var b=this.splice(c,this.length-c);this[c]=a;this.push.apply(this,b)}},find:function(a){for(var c=0;c<this.length;c++)if(a==this[c])return c;return-1},each:function(a,c){for(var b=0;b<this.length;b++)a.call(c||this,this[b])},map:function(a,c){for(var b=0;b<this.length;b++)this[b]=a.call(c||this,this[b]);return this},filter:function(a,
c){for(var b=0;b<this.length;b++)a.call(c||this,this[b])||(this.splice(b,1),b--);return this}};dhx.env={};
(function(){if(navigator.userAgent.indexOf("Mobile")!=-1)dhx.env.mobile=!0;if(dhx.env.mobile||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1)dhx.env.touch=!0;navigator.userAgent.indexOf("Opera")!=-1?dhx.env.isOpera=!0:(dhx.env.isIE=!!document.all,dhx.env.isFF=!document.all,dhx.env.isWebKit=navigator.userAgent.indexOf("KHTML")!=-1,dhx.env.isSafari=dhx.env.isWebKit&&navigator.userAgent.indexOf("Mac")!=-1);if(navigator.userAgent.toLowerCase().indexOf("android")!=
-1)dhx.env.isAndroid=!0;dhx.env.transform=!1;dhx.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","OTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","OTransition","msTransition"]},c=document.createElement("DIV"),b=0;b<a.names.length;b++)for(var d=a[a.names[b]],e=0;e<d.length;e++)if(typeof c.style[d[e]]!="undefined"){dhx.env[a.names[b]]=d[e];break}c.style[dhx.env.transform]="translate3d(0,0,0)";
dhx.env.translate=c.style[dhx.env.transform]?"translate3d":"translate";var f="",g=!1;dhx.env.isOpera&&(f="-o-",g="O");dhx.env.isFF&&(f="-Moz-");dhx.env.isWebKit&&(f="-webkit-");dhx.env.isIE&&(f="-ms-");dhx.env.transformCSSPrefix=f;dhx.env.transformPrefix=g||dhx.env.transformCSSPrefix.replace(/-/gi,"");dhx.env.transitionEnd=dhx.env.transformCSSPrefix=="-Moz-"?"transitionend":dhx.env.transformPrefix+"TransitionEnd"})();
dhx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();
dhx.html={v:0,denySelect:function(){if(!dhx.v)dhx.v=document.onselectstart;document.onselectstart=dhx.html.stopEvent},allowSelect:function(){if(dhx.v!==0)document.onselectstart=dhx.v||null;dhx.v=0},index:function(a){for(var c=0;a=a.previousSibling;)c++;return c},ga:{},createCss:function(a){var c="",b;for(b in a)c+=b+":"+a[b]+";";var d=this.ga[c];d||(d="s"+dhx.uid(),this.addStyle("."+d+"{"+c+"}"),this.ga[c]=d);return d},addStyle:function(a){var c=document.createElement("style");c.setAttribute("type",
"text/css");c.setAttribute("media","screen");c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));document.getElementsByTagName("head")[0].appendChild(c)},create:function(a,c,b){var c=c||{},d=document.createElement(a),e;for(e in c)d.setAttribute(e,c[e]);if(c.style)d.style.cssText=c.style;if(c["class"])d.className=c["class"];if(b)d.innerHTML=b;return d},getValue:function(a){a=dhx.toNode(a);return!a?"":dhx.isUndefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof
Array)for(var c=0;c<a.length;c++)this.remove(a[c]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,c,b){a&&(c&&c.parentNode?c.parentNode.insertBefore(a,c):b.appendChild(a))},locate:function(a,c){if(a.tagName)var b=a;else a=a||event,b=a.target||a.srcElement;for(;b;){if(b.getAttribute){var d=b.getAttribute(c);if(d)return d}b=b.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var c=a.getBoundingClientRect(),b=document.body,d=document.documentElement,e=
window.pageYOffset||d.scrollTop||b.scrollTop,f=window.pageXOffset||d.scrollLeft||b.scrollLeft,g=d.clientTop||b.clientTop||0,h=d.clientLeft||b.clientLeft||0,i=c.top+e-g,k=c.left+f-h;return{y:Math.round(i),x:Math.round(k)}}else{for(k=i=0;a;)i+=parseInt(a.offsetTop,10),k+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:i,x:k}}},posRelative:function(a){a=a||event;return dhx.isUndefined(a.offsetX)?{x:a.layerX,y:a.layerY}:{x:a.offsetX,y:a.offsetY}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,
y:a.pageY};var c=dhx.env.isIE&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{x:a.clientX+c.scrollLeft-c.clientLeft,y:a.clientY+c.scrollTop-c.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();return dhx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=!0;return!1},addCss:function(a,c){a.className+=" "+c},removeCss:function(a,c){a.className=a.className.replace(RegExp(" "+c,"g"),"")}};
dhx.ready=function(a){this.Ga?a.call():this.D.push(a)};dhx.D=[];(function(){var a=document.getElementsByTagName("SCRIPT");if(a.length)a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhx.codebase=a.slice(0,a.length).join("/")+"/";dhx.event(window,"load",function(){dhx.callEvent("onReady",[]);dhx.delay(function(){dhx.Ga=!0;for(var a=0;a<dhx.D.length;a++)dhx.D[a].call();dhx.D=[]})})})();dhx.locale=dhx.locale||{};
dhx.ready(function(){dhx.event(document.body,"click",function(a){dhx.callEvent("onClick",[a||event])})});
(function(){var a={},c=RegExp("(\\r\\n|\\n)","g"),b=RegExp('(\\")',"g");dhx.Template=function(d){if(typeof d=="function")return d;if(a[d])return a[d];d=(d||"").toString();if(d.indexOf("->")!=-1)switch(d=d.split("->"),d[0]){case "html":d=dhx.html.getValue(d[1]);break;case "http":d=(new dhx.ajax).sync().get(d[1],{uid:dhx.uid()}).responseText}d=(d||"").toString();d=d.replace(c,"\\n");d=d.replace(b,'\\"');d=d.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');d=d.replace(/\{common\.([^}\(]*)\}/g,
"\"+(common.$1||'')+\"");d=d.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1.apply(this, arguments):"")+"');d=d.replace(/\{obj\.([^}]*)\}/g,'"+(obj.$1)+"');d=d.replace("{obj}",'"+obj+"');d=d.replace(/#([^#'";, ]+)#/gi,'"+(obj.$1)+"');try{a[d]=Function("obj","common",'return "'+d+'";')}catch(e){}return a[d]};dhx.Template.empty=function(){return""};dhx.Template.bind=function(a){return dhx.bind(dhx.Template(a),this)};dhx.Type=function(a,b){if(a.q){if(!a.r)a.r=[];a.r.push(b)}else{if(typeof a==
"function")a=a.prototype;if(!a.types)a.types={"default":a.type},a.type.name="default";var c=b.name,g=a.type;c&&(g=a.types[c]=dhx.clone(b.baseType?a.types[b.baseType]:a.type));for(var h in b)g[h]=h.indexOf("template")===0?dhx.Template(b[h]):b[h];return c}}})();
dhx.Settings={$init:function(){this.a=this.config={}},define:function(a,c){return typeof a=="object"?this.Q(a):this.U(a,c)},U:function(a,c){var b=this[a+"_setter"];return this.a[a]=b?b.call(this,c,a):c},Q:function(a){if(a)for(var c in a)this.U(c,a[c])},$:function(a,c){var b={};c&&(b=dhx.extend(b,c));typeof a=="object"&&!a.tagName&&dhx.extend(b,a,!0);this.Q(b)},Ba:function(a,c){for(var b in c)switch(typeof a[b]){case "object":a[b]=this.Ba(a[b]||{},c[b]);break;case "undefined":a[b]=c[b]}return a}};
dhx.ajax=function(a,c,b){if(arguments.length!==0){var d=new dhx.ajax;if(b)d.master=b;return d.get(a,null,c)}return!this.getXHR?new dhx.ajax:this};dhx.ajax.count=0;
dhx.ajax.prototype={master:null,getXHR:function(){return dhx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,c,b){var d=this.getXHR();dhx.isArray(b)||(b=[b]);if(typeof c=="object"){var e=[],f;for(f in c){var g=c[f];if(g===null||g===dhx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}c=e.join("&")}c&&this.request==="GET"&&(a=a+(a.indexOf("?")!=-1?"&":"?")+c,c=null);d.open(this.request,a,!this.Na);this.request==="POST"&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var h=this;d.onreadystatechange=function(){if(!d.readyState||d.readyState==4){dhx.ajax.count++;if(b&&h)for(var a=0;a<b.length;a++)if(b[a]){var c=b[a].success||b[a];if(d.status>=400||!d.status&&!d.responseText)c=b[a].error;c&&c.call(h.master||h,d.responseText,d.responseXML,d)}if(h)h.master=null;b=h=null}};d.send(c||null);return d},get:function(a,c,b){arguments.length==2&&(b=c,c=null);this.request="GET";return this.send(a,c,b)},post:function(a,c,b){this.request="POST";return this.send(a,c,b)},put:function(a,
c,b){this.request="PUT";return this.send(a,c,b)},del:function(a,c,b){this.request="DELETE";return this.send(a,c,b)},sync:function(){this.Na=!0;return this},bind:function(a){this.master=a;return this}};dhx.send=function(a,c,b,d){var e=dhx.html.create("FORM",{target:d||"_self",action:a,method:b||"POST"},""),f;for(f in c){var g=dhx.html.create("INPUT",{type:"hidden",name:f,value:c[f]},"");e.appendChild(g)}e.style.display="none";document.body.appendChild(e);e.submit();document.body.removeChild(e)};
dhx.AtomDataLoader={$init:function(a){this.data={};if(a)this.a.datatype=a.datatype||"json",this.$ready.push(this.Aa)},Aa:function(){this.aa=!0;this.a.url&&this.url_setter(this.a.url);this.a.data&&this.data_setter(this.a.data)},url_setter:function(a){if(!this.aa)return a;this.load(a,this.a.datatype);return a},data_setter:function(a){if(!this.aa)return a;this.parse(a,this.a.datatype);return!0},load:function(a,c,b){if(a.$proxy)a.load(this,typeof c=="string"?c:"json");else{this.callEvent("onXLS",[]);
if(typeof c=="string")this.data.driver=dhx.DataDriver[c],c=b;else if(!this.data.driver)this.data.driver=dhx.DataDriver.json;var d=[{success:this.P}];c&&(dhx.isArray(c)?d.push.apply(d,c):d.push(c));return dhx.ajax(a,d,this)}},parse:function(a,c){this.callEvent("onXLS",[]);this.data.driver=dhx.DataDriver[c||"json"];this.P(a,null)},P:function(a,c,b){var d=this.data.driver,e=d.toObject(a,c);if(e){var f=d.getRecords(e)[0];this.data=d?d.getDetails(f):a}else this.C(a,c,b);this.callEvent("onXLE",[])},C:function(a,
c,b){this.callEvent("onXLE",[]);this.callEvent("onLoadError",arguments);dhx.callEvent("onLoadError",[a,c,b,this])},z:function(a){if(!this.a.dataFeed||this.N||!a)return!0;var c=this.a.dataFeed;if(typeof c=="function")return c.call(this,a.id||a,a);c=c+(c.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",[]);dhx.ajax(c,function(a,c,e){this.N=!0;var f=dhx.DataDriver.toObject(a,c);f?this.setValues(f.getDetails(f.getRecords()[0])):this.C(a,c,e);this.N=!1;this.callEvent("onXLE",
[])},this);return!1}};dhx.DataDriver={};
dhx.DataDriver.json={toObject:function(a){a||(a="[]");if(typeof a=="string"){try{eval("dhx.temp="+a)}catch(c){return null}a=dhx.temp}if(a.data){var b=a.data.config={},d;for(d in a)d!="data"&&(b[d]=a[d]);a=a.data}return a},getRecords:function(a){return a&&!dhx.isArray(a)?[a]:a},getDetails:function(a){return typeof a=="string"?{id:dhx.uid(),value:a}:a},getInfo:function(a){var c=a.config;return!c?{}:{n:c.total_count||0,m:c.pos||0,Ea:c.parent||0,K:c.config,O:c.dhx_security}},child:"data"};
dhx.DataDriver.html={toObject:function(a){if(typeof a=="string"){var c=null;a.indexOf("<")==-1&&(c=dhx.toNode(a));if(!c)c=document.createElement("DIV"),c.innerHTML=a;return c.getElementsByTagName(this.tag)}return a},getRecords:function(a){for(var c=[],b=0;b<a.childNodes.length;b++){var d=a.childNodes[b];d.nodeType==1&&c.push(d)}return c},getDetails:function(a){return dhx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{n:0,m:0}},tag:"LI"};
dhx.DataDriver.jsarray={toObject:function(a){return typeof a=="string"?(eval("dhx.temp="+a),dhx.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var c={},b=0;b<a.length;b++)c["data"+b]=a[b];return c},getInfo:function(){return{n:0,m:0}}};
dhx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){for(var a=this.stringToArray(a),c={},b=0;b<a.length;b++)c["data"+b]=a[b];return c},getInfo:function(){return{n:0,m:0}},stringToArray:function(a){for(var a=a.split(this.cell),c=0;c<a.length;c++)a[c]=a[c].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhx.DataDriver.xml={Y:function(a){return!a||!a.documentElement?null:a.getElementsByTagName("parsererror").length?null:a},toObject:function(a){if(this.Y(c))return c;var c=typeof a=="string"?this.fromString(a.replace(/^[\s]+/,"")):a;return this.Y(c)?c:null},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",child:"item",config:"/*/config",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){var c=this.xpath(a,this.config),c=c.length?this.assignTypes(this.tagToObject(c[0],
{})):null;return{n:a.documentElement.getAttribute("total_count")||0,m:a.documentElement.getAttribute("pos")||0,Ea:a.documentElement.getAttribute("parent")||0,K:c,O:a.documentElement.getAttribute("dhx_security")||null}},xpath:function(a,c){if(window.XPathResult){var b=a;if(a.nodeName.indexOf("document")==-1)a=a.ownerDocument;for(var d=[],e=a.evaluate(c,b,null,XPathResult.ANY_TYPE,null),f=e.iterateNext();f;)d.push(f),f=e.iterateNext();return d}else{var g=!0;try{typeof a.selectNodes=="undefined"&&(g=
!1)}catch(h){}if(g)return a.selectNodes(c);else{var i=c.split("/").pop();return a.getElementsByTagName(i)}}},assignTypes:function(a){for(var c in a){var b=a[c];typeof b=="object"?this.assignTypes(b):typeof b=="string"&&b!==""&&(b=="true"?a[c]=!0:b=="false"?a[c]=!1:b==b*1&&(a[c]*=1))}return a},tagToObject:function(a,c){var c=c||{},b=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)c[d[e].name]=d[e].value;b=!0}for(var f=a.childNodes,g={},e=0;e<f.length;e++)if(f[e].nodeType==1){var h=f[e].tagName;
typeof c[h]!="undefined"?(dhx.isArray(c[h])||(c[h]=[c[h]]),c[h].push(this.tagToObject(f[e],{}))):c[f[e].tagName]=this.tagToObject(f[e],{});b=!0}if(!b)return this.nodeValue(a);c.value=c.value||this.nodeValue(a);return c},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){try{if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var c=new ActiveXObject("Microsoft.xmlDOM");c.loadXML(a);return c}}catch(b){return null}}};
dhx.DataLoader=dhx.proto({$init:function(a){a=a||"";this.o=dhx.toArray();this.data=new dhx.DataStore;this.data.attachEvent("onClearAll",dhx.bind(this.oa,this));this.data.attachEvent("onServerConfig",dhx.bind(this.na,this));this.data.feed=this.sa},sa:function(a,c,b){if(this.u)return this.u=[a,c,b];else this.u=!0;this.W=[a,c];this.ua.call(this,a,c,b)},ua:function(a,c,b){var d=this.data.url;a<0&&(a=0);this.load(d+(d.indexOf("?")==-1?"?":"&")+(this.dataCount()?"continue=true&":"")+"start="+a+"&count="+
c,[this.ta,b])},ta:function(){var a=this.u,c=this.W;this.u=!1;typeof a=="object"&&(a[0]!=c[0]||a[1]!=c[1])&&this.data.feed.apply(this,a)},load:function(a,c){var b=dhx.AtomDataLoader.load.apply(this,arguments);this.o.push(b);if(!this.data.url)this.data.url=a},loadNext:function(a,c,b,d,e){this.a.datathrottle&&!e?(this.ha&&window.clearTimeout(this.ha),this.ha=dhx.delay(function(){this.loadNext(a,c,b,d,!0)},this,0,this.a.datathrottle)):(!c&&c!==0&&(c=this.dataCount()),this.data.url=this.data.url||d,this.callEvent("onDataRequest",
[c,a,b,d])&&this.data.url&&this.data.feed.call(this,c,a,b))},Ra:function(a,c){var b=this.W;return this.u&&b&&b[0]<=c&&b[1]+b[0]>=a+c?!0:!1},P:function(a,c,b){this.o.remove(b);var d=this.data.driver.toObject(a,c);if(d)this.data.Fa(d);else return this.C(a,c,b);this.pa();this.callEvent("onXLE",[])},removeMissed_setter:function(a){return this.data.Ja=a},scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhx.bind(function(a,b){if(this.a.dataFeed){var d=
{};if(a||b){if(typeof a=="function"){if(!b)return;a(b,d)}else d={text:b};this.clearAll();var e=this.a.dataFeed,f=[];if(typeof e=="function")return e.call(this,b,d);for(var g in d)f.push("dhx_filter["+g+"]="+encodeURIComponent(d[g]));this.load(e+(e.indexOf("?")<0?"?":"&")+f.join("&"),this.a.datatype);return!1}}},this));return a},pa:function(){if(this.a.ready&&!this.Ha){var a=dhx.toFunctor(this.a.ready);a&&dhx.delay(a,this,arguments);this.Ha=!0}},oa:function(){for(var a=0;a<this.o.length;a++)this.o[a].abort();
this.o=dhx.toArray()},na:function(a){this.Q(a)}},dhx.AtomDataLoader);dhx.DataStore=function(){this.name="DataStore";dhx.extend(this,dhx.EventSystem);this.setDriver("json");this.pull={};this.order=dhx.toArray();this.d={}};
dhx.DataStore.prototype={setDriver:function(a){this.driver=dhx.DataDriver[a]},Fa:function(a){this.callEvent("onParse",[this.driver,a]);this.c&&this.filter();var c=this.driver.getInfo(a);if(c.O)dhx.securityKey=c.O;c.K&&this.callEvent("onServerConfig",[c.K]);var b=this.driver.getRecords(a);this.za(c,b);this.ba&&this.ya&&this.ya(this.ba);this.da&&(this.blockEvent(),this.sort(this.da),this.unblockEvent());this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},za:function(a,c){var b=(a.m||0)*1,
d=!0,e=!1;if(b===0&&this.order[0]){if(this.Ja)for(var e={},f=0;f<this.order.length;f++)e[this.order[f]]=!0;d=!1;b=this.order.length}for(var g=0,f=0;f<c.length;f++){var h=this.driver.getDetails(c[f]),i=this.id(h);this.pull[i]?d&&this.order[g+b]&&g++:(this.order[g+b]=i,g++);this.pull[i]?(dhx.extend(this.pull[i],h,!0),this.H&&this.H(this.pull[i]),e&&delete e[i]):(this.pull[i]=h,this.G&&this.G(h))}if(e){this.blockEvent();for(var k in e)this.remove(k);this.unblockEvent()}if(!this.order[a.n-1])this.order[a.n-
1]=dhx.undefined},id:function(a){return a.id||(a.id=dhx.uid())},changeId:function(a,c){this.pull[a]&&(this.pull[c]=this.pull[a]);this.pull[c].id=c;this.order[this.order.find(a)]=c;this.c&&(this.c[this.c.find(a)]=c);this.d[a]&&(this.d[c]=this.d[a],delete this.d[a]);this.callEvent("onIdChange",[a,c]);this.Ka&&this.Ka(a,c);delete this.pull[a]},item:function(a){return this.pull[a]},update:function(a,c){dhx.isUndefined(c)&&(c=this.item(a));this.H&&this.H(c);if(this.callEvent("onBeforeUpdate",[a,c])===
!1)return!1;this.pull[a]=c;this.callEvent("onStoreUpdated",[a,c,"update"])},refresh:function(a){this.fa||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"paint"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a,c){this.fa=!0;a.call(c||this);this.fa=!1},getRange:function(a,c){a=a?this.indexById(a):this.$min||this.startOffset||0;c?c=this.indexById(c):(c=Math.min(this.$max||this.endOffset||Infinity,this.dataCount()-1),c<0&&(c=0));if(a>c)var b=c,c=a,a=b;return this.getIndexRange(a,
c)},getIndexRange:function(a,c){for(var c=Math.min(c||Infinity,this.dataCount()-1),b=dhx.toArray(),d=a||0;d<=c;d++)b.push(this.item(this.order[d]));return b},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,c){var b=this.idByIndex(a),d=this.item(b);this.order.removeAt(a);this.order.insertAt(b,Math.min(this.order.length,c));this.callEvent("onStoreUpdated",[b,d,"move"])},scheme:function(a){this.F={};this.G=a.$init;this.H=a.$update;this.ca=a.$serialize;
this.ba=a.$group;this.da=a.$sort;for(var c in a)c.substr(0,1)!="$"&&(this.F[c]=a[c])},sync:function(a,c,b){typeof a=="string"&&(a=$$("source"));typeof c!="function"&&(b=c,c=null);this.I=!1;if(a.name!="DataStore")a.data&&a.data.name=="DataStore"?a=a.data:this.I=!0;var d=dhx.bind(function(d,f,g){if(this.I){if(!d)return;if(d.indexOf("change")===0){if(d=="change")this.pull[f.id]=f.attributes,this.refresh(f.id);return}d=="reset"&&(g=f);this.order=[];this.pull={};this.c=null;for(var h=0;h<g.models.length;h++){var i=
g.models[h].id;this.order.push(i);this.pull[i]=g.models[h].attributes}}else this.c=null,this.order=dhx.toArray([].concat(a.order)),this.pull=a.pull;c&&this.silent(c);this.Z&&this.Z();this.callEvent("onSyncApply",[]);b?b=!1:this.refresh()},this);this.I?a.bind("all",d):this.w=[a.attachEvent("onStoreUpdated",d),a.attachEvent("onIdChange",dhx.bind(function(a,b){this.changeId(a,b)},this))];d()},add:function(a,c,b){if(this.F)for(var d in this.F)dhx.isUndefined(a[d])&&(a[d]=this.F[d]);this.G&&this.G(a);
var e=this.id(a),f=b||this.order,g=f.length;if(dhx.isUndefined(c)||c<0)c=g;c>g&&(c=Math.min(f.length,c));if(this.callEvent("onBeforeAdd",[e,a,c])===!1)return!1;this.pull[e]=a;f.insertAt(e,c);if(this.c){var h=this.c.length;!c&&this.order.length&&(h=0);this.c.insertAt(e,h)}this.callEvent("onAfterAdd",[e,c]);this.callEvent("onStoreUpdated",[e,a,"add"]);return e},remove:function(a){if(dhx.isArray(a))for(var c=0;c<a.length;c++)this.remove(a[c]);else{if(this.callEvent("onBeforeDelete",[a])===!1)return!1;
var b=this.item(a);this.order.remove(a);this.c&&this.c.remove(a);delete this.pull[a];this.d[a]&&delete this.d[a];this.callEvent("onAfterDelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=dhx.toArray();this.c=this.url=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){var c=this.order.find(a);return c},next:function(a,c){return this.order[this.indexById(a)+(c||1)]},first:function(){return this.order[0]},
last:function(){return this.order[this.order.length-1]},previous:function(a,c){return this.order[this.indexById(a)-(c||1)]},sort:function(a,c,b){var d=a;typeof a=="function"?d={as:a,dir:c}:typeof a=="string"&&(d={by:a.replace(/#/g,""),dir:c,as:b});var e=[d.by,d.dir,d.as];this.callEvent("onBeforeSort",e)&&(this.Ma(d),this.refresh(),this.callEvent("onAfterSort",e))},Ma:function(a){if(this.order.length){var c=this.La.qa(a),b=this.getRange(this.first(),this.last());b.sort(c);this.order=b.map(function(a){return this.id(a)},
this)}},wa:function(a){if(this.c&&!a)this.order=this.c,delete this.c},va:function(a,c,b){for(var d=dhx.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];a(this.item(f),c)&&d.push(f)}if(!b||!this.c)this.c=this.order;this.order=d},filter:function(a,c,b){if(this.callEvent("onBeforeFilter",[a,c])&&(this.wa(b),this.order.length)){if(a){var d=a,c=c||"";typeof a=="string"&&(a=a.replace(/#/g,""),typeof c=="function"?d=function(b){return c(b[a])}:(c=c.toString().toLowerCase(),d=function(b,c){return(b[a]||
"").toString().toLowerCase().indexOf(c)!=-1}));this.va(d,c,b,this.Pa)}this.refresh();this.callEvent("onAfterFilter",[])}},each:function(a,c){for(var b=0;b<this.order.length;b++)a.call(c||this,this.item(this.order[b]))},Ca:function(a,c){return function(){return a[c].apply(a,arguments)}},addMark:function(a,c,b,d){var e=this.d[a]||{};this.d[a]=e;if(!e[c]&&(e[c]=d||!0,b))this.item(a).$css=(this.item(a).$css||"")+" "+c,this.refresh(a);return e[c]},removeMark:function(a,c,b){var d=this.d[a];d&&d[c]&&delete d[c];
if(b){var e=this.item(a).$css;if(e)this.item(a).$css=e.replace(c,""),this.refresh(a)}},hasMark:function(a,c){var b=this.d[a];return b&&b[c]},provideApi:function(a,c){c&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var b="sort,add,remove,exists,idByIndex,indexById,item,update,refresh,dataCount,filter,next,previous,clearAll,first,last,serialize,sync,addMark,removeMark,hasMark".split(","),d=0;d<b.length;d++)a[b[d]]=this.Ca(this,
b[d])},serialize:function(){for(var a=this.order,c=[],b=0;b<a.length;b++){var d=this.pull[a[b]];(!this.ca||!(d=this.ca(d),d===!1))&&c.push(d)}return c},La:{qa:function(a){return this.ra(a.dir,this.ma(a.by,a.as))},ja:{date:function(a,c){a-=0;c-=0;return a>c?1:a<c?-1:0},"int":function(a,c){a*=1;c*=1;return a>c?1:a<c?-1:0},string_strict:function(a,c){a=a.toString();c=c.toString();return a>c?1:a<c?-1:0},string:function(a,c){if(!c)return 1;if(!a)return-1;a=a.toString().toLowerCase();c=c.toString().toLowerCase();
return a>c?1:a<c?-1:0}},ma:function(a,c){if(!a)return c;typeof c!="function"&&(c=this.ja[c||"string"]);return function(b,d){return c(b[a],d[a])}},ra:function(a,c){return a=="asc"||!a?c:function(a,d){return c(a,d)*-1}}}};
dhx.BaseBind={bind:function(a,c,b){typeof a=="string"&&(a=dhx.ui.get(a));a.b&&a.b();this.b&&this.b();a.getBindData||dhx.extend(a,dhx.BindSource);if(!this.ka){var d=this.render;if(this.filter){var e=this.a.id;this.data.Z=function(){a.l[e]=!1}}this.render=function(){if(!this.X){this.X=!0;var a=this.callEvent("onBindRequest");this.X=!1;return d.apply(this,a===!1?arguments:[])}};if(this.getValue||this.getValues)this.save=function(){if(!this.validate||this.validate())a.setBindData(this.getValue?this.getValue:
this.getValues(),this.a.id)};this.ka=!0}a.addBind(this.a.id,c,b);var f=this.a.id;this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){return a.getBindData(f)});!this.a.dataFeed&&this.loadNext&&this.data.attachEvent("onStoreLoad",function(){a.l[f]=!1});this.isVisible(this.a.id)&&this.refresh()},g:function(a){a.removeBind(this.a.id);var c=this.w||(this.data?this.data.w:0);if(c&&a.data)for(var b=0;b<c.length;b++)a.data.detachEvent(c[b])}};
dhx.BindSource={$init:function(){this.p={};this.l={};this.A={};this.la(this)},saveBatch:function(a){this.V=!0;a.call(this);this.V=!1;this.k()},setBindData:function(a,c){c&&(this.A[c]=!0);if(this.setValue)this.setValue(a);else if(this.setValues)this.setValues(a);else{var b=this.getCursor();b&&(a=dhx.extend(this.item(b),a,!0),this.update(b,a))}this.callEvent("onBindUpdate",[a,c]);this.save&&this.save();c&&(this.A[c]=!1)},getBindData:function(a,c){if(this.l[a])return!1;var b=dhx.ui.get(a);b.isVisible(b.a.id)&&
(this.l[a]=!0,this.J(b,this.p[a][0],this.p[a][1]),c&&b.filter&&b.refresh())},addBind:function(a,c,b){this.p[a]=[c,b]},removeBind:function(a){delete this.p[a];delete this.l[a];delete this.A[a]},la:function(a){a.filter?dhx.extend(this,dhx.CollectionBind):a.setValue?dhx.extend(this,dhx.ValueBind):dhx.extend(this,dhx.RecordBind)},k:function(){if(!this.V)for(var a in this.p)this.A[a]||(this.l[a]=!1,this.getBindData(a,!0))},S:function(a,c,b){a.setValue?a.setValue(b?b[c]:b):a.filter?a.data.silent(function(){this.filter(c,
b)}):!b&&a.clear?a.clear():a.z(b)&&a.setValues(dhx.clone(b));a.callEvent("onBindApply",[b,c,this])}};dhx.DataValue=dhx.proto({name:"DataValue",isVisible:function(){return!0},$init:function(a){var c=(this.data=a)&&a.id?a.id:dhx.uid();this.a={id:c};dhx.ui.views[c]=this},setValue:function(a){this.data=a;this.callEvent("onChange",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataRecord=dhx.proto({name:"DataRecord",isVisible:function(){return!0},$init:function(a){this.data=a||{};var c=a&&a.id?a.id:dhx.uid();this.a={id:c};dhx.ui.views[c]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent("onChange",[a])},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind,dhx.AtomDataLoader,dhx.Settings);
dhx.DataCollection=dhx.proto({name:"DataCollection",isVisible:function(){return!this.data.order.length&&!this.data.c&&!this.a.dataFeed?!1:!0},$init:function(a){this.data.provideApi(this,!0);var c=a&&a.id?a.id:dhx.uid();this.a.id=c;dhx.ui.views[c]=this;this.data.attachEvent("onStoreLoad",dhx.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},dhx.DataLoader,dhx.EventSystem,dhx.BaseBind,dhx.Settings);
dhx.ValueBind={$init:function(){this.attachEvent("onChange",this.k)},J:function(a,c,b){var d=this.getValue()||"";b&&(d=b(d));if(a.setValue)a.setValue(d);else if(a.filter)a.data.silent(function(){this.filter(c,d)});else{var e={};e[c]=d;a.z(d)&&a.setValues(e)}a.callEvent("onBindApply",[d,c,this])}};dhx.RecordBind={$init:function(){this.attachEvent("onChange",this.k)},J:function(a,c){var b=this.getValues()||null;this.S(a,c,b)}};
dhx.CollectionBind={$init:function(){this.h=null;this.attachEvent("onSelectChange",function(){var a=this.getSelected();this.setCursor(a?a.id||a:null)});this.attachEvent("onAfterCursorChange",this.k);this.data.attachEvent("onStoreUpdated",dhx.bind(function(a,c,b){a&&a==this.getCursor()&&b!="paint"&&this.k()},this));this.data.attachEvent("onClearAll",dhx.bind(function(){this.h=null},this));this.data.attachEvent("onIdChange",dhx.bind(function(a,c){if(this.h==a)this.h=c},this))},setCursor:function(a){if(!(a==
this.h||a!==null&&!this.item(a)))this.callEvent("onBeforeCursorChange",[this.h]),this.h=a,this.callEvent("onAfterCursorChange",[a])},getCursor:function(){return this.h},J:function(a,c){var b=this.item(this.getCursor())||this.a.defaultData||null;this.S(a,c,b)}};if(!dhx.ui)dhx.ui={};if(!dhx.ui.views)dhx.ui.views={},dhx.ui.get=function(a){return a.a?a:dhx.ui.views[a]};
dhtmlXDataStore=function(a){var c=new dhx.DataCollection(a),b="_dp_init";c[b]=function(a){var b="_methods";a[b]=["dummy","dummy","changeId","dummy"];this.data.Da={add:"inserted",update:"updated","delete":"deleted"};this.data.attachEvent("onStoreUpdated",function(b,c,e){b&&!a.ea&&a.setUpdated(b,!0,this.Da[e])});b="_getRowData";a[b]=function(a){var b=this.obj.data.item(a),c={id:a};c[this.action_param]=this.obj.getUserData(a);if(b)for(var d in b)c[d]=b[d];return c};this.changeId=function(b,c){this.data.changeId(b,
c);a.ea=!0;this.data.callEvent("onStoreUpdated",[c,this.item(c),"update"]);a.ea=!1};b="_clearUpdateFlag";a[b]=function(){};this.ia={}};c.dummy=function(){};c.setUserData=function(a,b,c){this.ia[a]=c};c.getUserData=function(a){return this.ia[a]};c.dataFeed=function(a){this.define("dataFeed",a)};dhx.extend(c,dhx.BindSource);return c};
if(window.dhtmlXDataView)dhtmlXDataView.prototype.b=function(){this.isVisible=function(){return!this.data.order.length&&!this.data.c&&!this.a.dataFeed?!1:!0};var a="_settings";this.a=this.a||this[a];if(!this.a.id)this.a.id=dhx.uid();this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this.a.id]=this};
if(window.dhtmlXChart)dhtmlXChart.prototype.b=function(){this.isVisible=function(){return!this.data.order.length&&!this.data.Qa&&!this.a.dataFeed?!1:!0};var a="_settings";this.a=this.a||this[a];if(!this.a.id)this.a.id=dhx.uid();this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this.a.id]=this};dhx.BaseBind.unsync=function(a){return dhx.BaseBind.g.call(this,a)};dhx.BaseBind.unbind=function(a){return dhx.BaseBind.g.call(this,a)};
dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)};
dhx.BaseBind.legacySync=function(a,c){this.b&&this.b();a.b&&a.b();this.attachEvent("onAfterEditStop",function(a){this.save(a);return!0});this.attachEvent("onDataRequest",function(b,c){for(var e=b;e<b+c;e++)if(!a.data.order[e])return a.loadNext(c,b),!1});this.save=function(b){b||(b=this.getCursor());var c=this.item(b),e=a.item(b),f;for(f in c)f.indexOf("$")!==0&&(e[f]=c[f]);a.refresh(b)};return a&&a.name=="DataCollection"?a.data.sync.apply(this.data,arguments):this.data.sync.apply(this.data,arguments)};
if(window.dhtmlXForm)dhtmlXForm.prototype.bind=function(a){dhx.BaseBind.bind.apply(this,arguments);a.getBindData(this.a.id)},dhtmlXForm.prototype.unbind=function(a){dhx.BaseBind.g.call(this,a)},dhtmlXForm.prototype.b=function(){if(dhx.isUndefined(this.a))this.a={id:dhx.uid(),dataFeed:this.j},dhx.ui.views[this.a.id]=this},dhtmlXForm.prototype.z=function(a){if(!this.a.dataFeed||this.N||!a)return!0;var c=this.a.dataFeed;if(typeof c=="function")return c.call(this,a.id||a,a);c=c+(c.indexOf("?")==-1?"?":
"&")+"action=get&id="+encodeURIComponent(a.id||a);this.load(c);return!1},dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData,dhtmlXForm.prototype.getValues=function(){return this.getFormData(!1,!0)},dhtmlXForm.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(){return!0};
if(window.scheduler){if(!window.Scheduler)window.Scheduler={};Scheduler.$syncFactory=function(a){a.sync=function(c,b){this.b&&this.b();c.b&&c.b();var d="_process_loading",e=function(){a.clearAll();for(var e=c.data.order,g=c.data.pull,h=[],i=0;i<e.length;i++)h[i]=b&&b.copy?dhx.clone(g[e[i]]):g[e[i]];a[d](h)};this.save=function(a){a||(a=this.getCursor());var b=this.item(a),d=c.item(a);this.callEvent("onStoreSave",[a,b,d])&&(dhx.extend(c.item(a),b,!0),c.update(a))};this.item=function(a){return this.getEvent(a)};
this.w=[c.data.attachEvent("onStoreUpdated",function(){e.call(this)}),c.data.attachEvent("onIdChange",function(a,b){combo.changeOptionId(a,b)})];this.attachEvent("onEventChanged",function(a){this.save(a)});this.attachEvent("onEventAdded",function(a,b){c.data.pull[a]||c.add(b)});this.attachEvent("onEventDeleted",function(a){c.data.pull[a]&&c.remove(a)});e()};a.unsync=function(a){dhx.BaseBind.g.call(this,a)};a.b=function(){if(!this.a)this.a={id:dhx.uid()}}};Scheduler.$syncFactory(window.scheduler)}
if(window.dhtmlXCombo)dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXCombo.unbind=function(a){dhx.BaseBind.g.call(this,a)},dhtmlXCombo.unsync=function(a){dhx.BaseBind.g.call(this,a)},dhtmlXCombo.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXCombo.prototype.sync=function(a){this.b&&this.b();a.b&&a.b();var c=this,b=function(){c.clearAll();c.addOption(this.serialize())};this.w=[a.data.attachEvent("onStoreUpdated",function(){b.call(this)}),
a.data.attachEvent("onIdChange",function(a,b){c.changeOptionId(a,b)})];b.call(a)},dhtmlXCombo.prototype.b=function(){if(dhx.isUndefined(this.a))this.a={id:dhx.uid(),dataFeed:this.j},dhx.ui.views[this.a.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onChange",function(){this.callEvent("onSelectChange",[this.getSelectedValue()])}),this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})},dhtmlXCombo.prototype.item=function(a){return this.getOption(a)},
dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()},dhtmlXCombo.prototype.isVisible=function(){return!this.optionsArr.length&&!this.a.dataFeed?!1:!0},dhtmlXCombo.prototype.refresh=function(){this.render(!0)},dhtmlXCombo.prototype.filter=function(){alert("not implemented")};
if(window.dhtmlXGridObject)dhtmlXGridObject.prototype.bind=function(a,c,b){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXGridObject.prototype.unbind=function(a){dhx.BaseBind.g.call(this,a)},dhtmlXGridObject.prototype.unsync=function(a){dhx.BaseBind.g.call(this,a)},dhtmlXGridObject.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXGridObject.prototype.sync=function(a,c){this.b&&this.b();a.b&&a.b();var b=this,d="_parsing",e="_parser",f="_locator",g="_process_store_row",h="_get_store_data";
this.save=function(b){b||(b=this.getCursor());dhx.extend(a.item(b),this.item(b),!0);a.update(b)};var i=function(){var a=b.getCursor?b.getCursor():null,c=0;b.B?(c=b.B,b.B=!1):b.clearAll();var i=this.dataCount();if(i){b[d]=!0;for(var n=c;n<i;n++){var j=this.order[n];if(j&&(!c||!b.rowsBuffer[n]))b.rowsBuffer[n]={idd:j,data:this.pull[j]},b.rowsBuffer[n][e]=b[g],b.rowsBuffer[n][f]=b[h],b.rowsAr[j]=this.pull[j]}if(!b.rowsBuffer[i-1])b.rowsBuffer[i-1]=dhtmlx.undefined,b.xmlFileUrl=b.xmlFileUrl||this.url;
b.pagingOn?b.changePage():b.Ta&&b.Oa?b.Ua():(b.render_dataset(),b.callEvent("onXLE",[]));b[d]=!1}a&&b.setCursor&&b.setCursor(b.rowsAr[a]?a:null)};this.w=[a.data.attachEvent("onStoreUpdated",function(a,c,d){d=="delete"?(b.deleteRow(a),b.data.callEvent("onStoreUpdated",[a,c,d])):d=="update"?(b.callEvent("onSyncUpdate",[c,d]),b.update(a,c),b.data.callEvent("onStoreUpdated",[a,c,d])):d=="add"?(b.callEvent("onSyncUpdate",[c,d]),b.add(a,c,this.indexById(a)),b.data.callEvent("onStoreUpdated",[a,c,d])):i.call(this)}),
a.data.attachEvent("onStoreLoad",function(c,d){b.xmlFileUrl=a.data.url;b.B=c.getInfo(d).m}),a.data.attachEvent("onIdChange",function(a,c){b.changeRowId(a,c)})];b.attachEvent("onDynXLS",function(c,d){for(var e=c;e<c+d;e++)if(!a.data.order[e])return a.loadNext(d,c),!1;b.B=c;i.call(a.data)});i.call(a.data);b.attachEvent("onEditCell",function(a,b,c,d,e){a==2&&d!=e&&this.save(b);return!0});b.attachEvent("onClearAll",function(){var a="_f_rowsBuffer";this[a]=null});c&&c.sort&&b.attachEvent("onBeforeSorting",
function(c,d,e){if(d=="connector")return!1;var f=this.getColumnId(c);a.sort("#"+f+"#",e=="asc"?"asc":"desc",d=="int"?d:"string");b.setSortImgState(!0,c,e);return!1});if(c&&c.filter)b.attachEvent("onFilterStart",function(c,d){var e="_con_f_used";if(b[e]&&b[e].length)return!1;a.data.silent(function(){a.filter();for(var e=0;e<c.length;e++)if(d[e]!=""){var f=b.getColumnId(c[e]);a.filter("#"+f+"#",d[e],e!=0)}});a.refresh();return!1}),b.collectValues=function(b){var c=this.getColumnId(b);return function(a){var b=
[],c={};this.data.each(function(d){var e=d[a];c[e]||(c[e]=!0,b.push(e))});return b}.call(a,c)};c&&c.select&&b.attachEvent("onRowSelect",function(b){a.setCursor(b)});b.clearAndLoad=function(b){a.clearAll();a.load(b)}},dhtmlXGridObject.prototype.b=function(){if(dhx.isUndefined(this.a)){this.a={id:dhx.uid(),dataFeed:this.j};dhx.ui.views[this.a.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhtmlxEventable(this.data);for(var a="_cCount",c=0;c<this[a];c++)this.columnIds[c]||(this.columnIds[c]=
"cell"+c);this.attachEvent("onSelectStateChanged",function(a){this.callEvent("onSelectChange",[a])});this.attachEvent("onSelectionCleared",function(){this.callEvent("onSelectChange",[null])});this.attachEvent("onEditCell",function(a,c){a===2&&this.getCursor&&c&&c==this.getCursor()&&this.k();return!0});this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}},dhtmlXGridObject.prototype.item=function(a){if(a===null)return null;var c=this.getRowById(a);if(!c)return null;var b="_attrs",
d=dhx.copy(c[b]);d.id=a;for(var e=this.getColumnsNum(),f=0;f<e;f++)d[this.columnIds[f]]=this.cells(a,f).getValue();return d},dhtmlXGridObject.prototype.update=function(a,c){for(var b=0;b<this.columnIds.length;b++){var d=this.columnIds[b];dhx.isUndefined(c[d])||this.cells(a,b).setValue(c[d])}var e="_attrs",f=this.getRowById(a)[e];for(d in c)f[d]=c[d];this.callEvent("onBindUpdate",[a])},dhtmlXGridObject.prototype.add=function(a,c,b){for(var d=[],e=0;e<this.columnIds.length;e++){var f=this.columnIds[e];
d[e]=dhx.isUndefined(c[f])?"":c[f]}this.addRow(a,d,b);var g="_attrs";this.getRowById(a)[g]=dhx.copy(c)},dhtmlXGridObject.prototype.getSelected=function(){return this.getSelectedRowId()},dhtmlXGridObject.prototype.isVisible=function(){var a="_f_rowsBuffer";return!this.rowsBuffer.length&&!this[a]&&!this.a.dataFeed?!1:!0},dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()},dhtmlXGridObject.prototype.filter=function(a,c){if(this.a.dataFeed){var b={};if(!a&&!c)return;if(typeof a=="function"){if(!c)return;
a(c,b)}else dhx.isUndefined(a)?b=c:b[a]=c;this.clearAll();var d=this.a.dataFeed;if(typeof d=="function")return d.call(this,c,b);var e=[],f;for(f in b)e.push("dhx_filter["+f+"]="+encodeURIComponent(b[f]));this.load(d+(d.indexOf("?")<0?"?":"&")+e.join("&"));return!1}if(c===null)return this.filterBy(0,function(){return!1});this.filterBy(0,function(b,d){return a.call(this,d,c)})};
if(window.dhtmlXTreeObject)dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXTreeObject.prototype.unbind=function(a){dhx.BaseBind.g.call(this,a)},dhtmlXTreeObject.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXTreeObject.prototype.b=function(){if(dhx.isUndefined(this.a))this.a={id:dhx.uid(),dataFeed:this.j},dhx.ui.views[this.a.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onSelect",
function(a){this.callEvent("onSelectChange",[a])}),this.attachEvent("onEdit",function(a,c){a===2&&c&&c==this.getCursor()&&this.k();return!0})},dhtmlXTreeObject.prototype.item=function(a){return a===null?null:{id:a,text:this.getItemText(a)}},dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()},dhtmlXTreeObject.prototype.isVisible=function(){return!0},dhtmlXTreeObject.prototype.refresh=function(){},dhtmlXTreeObject.prototype.filter=function(a,c){if(this.a.dataFeed){var b=
{};if(a||c){if(typeof a=="function"){if(!c)return;a(c,b)}else dhx.isUndefined(a)?b=c:b[a]=c;this.deleteChildItems(0);var d=this.a.dataFeed;if(typeof d=="function")return d.call(this,[data.id||data,data]);var e=[],f;for(f in b)e.push("dhx_filter["+f+"]="+encodeURIComponent(b[f]));this.loadXML(d+(d.indexOf("?")<0?"?":"&")+e.join("&"));return!1}}},dhtmlXTreeObject.prototype.update=function(a,c){dhx.isUndefined(c.text)||this.setItemText(a,c.text)};dhtmlx.skin="dhx_skyblue";
